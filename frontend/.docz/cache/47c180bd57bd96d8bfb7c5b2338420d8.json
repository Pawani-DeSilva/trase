{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx","mtime":1548345115494},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SimpleModal from 'react-components/shared/simple-modal/simple-modal.component';\nimport DashboardPanel from 'react-components/dashboard-element/dashboard-panel/dashboard-panel.container';\nimport DashboardWelcome from 'react-components/dashboard-element/dashboard-welcome/dashboard-welcome.component';\nimport DashboardIndicators from 'react-components/dashboard-element/dashboard-indicators/dashboard-indicators.container';\nimport DashboardWiget from 'react-components/dashboard-element/dashboard-widget/dashboard-widget.container';\nimport Button from 'react-components/shared/button/button.component';\nimport 'react-components/dashboard-element/dashboard-element.scss';\n\nvar DashboardElement =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(DashboardElement, _React$PureComponent);\n\n  function DashboardElement() {\n    _classCallCheck(this, DashboardElement);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DashboardElement).apply(this, arguments));\n  }\n\n  _createClass(DashboardElement, [{\n    key: \"renderDashboardModal\",\n    value: function renderDashboardModal() {\n      var _this$props = this.props,\n          step = _this$props.step,\n          setStep = _this$props.setStep,\n          editMode = _this$props.editMode,\n          goToRoot = _this$props.goToRoot,\n          modalOpen = _this$props.modalOpen,\n          closeModal = _this$props.closeModal,\n          activeIndicators = _this$props.activeIndicators,\n          dirtyBlocks = _this$props.dirtyBlocks;\n      var hasIndicators = activeIndicators.length > 0;\n      var hasOptionsSelected = Object.values(dirtyBlocks).some(function (b) {\n        return b;\n      });\n      var canProceed = hasOptionsSelected && hasIndicators;\n      var onClose = editMode && canProceed ? closeModal : goToRoot;\n      return React.createElement(React.Fragment, null, modalOpen && React.createElement(\"section\", {\n        className: \"dashboard-element-placeholder\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, Array.from({\n        length: 6\n      }).map(function (_, i) {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \"column small-12 medium-6\"\n        }, React.createElement(\"b\", {\n          className: \"dashboard-element-placeholder-item\"\n        }));\n      }))), React.createElement(SimpleModal, {\n        isOpen: modalOpen,\n        onRequestClose: onClose\n      }, step === DashboardElement.steps.WELCOME && React.createElement(DashboardWelcome, {\n        onContinue: function onContinue() {\n          return setStep(DashboardElement.steps.PANEL);\n        }\n      }), step === DashboardElement.steps.PANEL && React.createElement(DashboardPanel, {\n        editMode: editMode,\n        onContinue: function onContinue() {\n          return editMode && canProceed ? closeModal() : setStep(DashboardElement.steps.INDICATORS);\n        }\n      }), step === DashboardElement.steps.INDICATORS && React.createElement(DashboardIndicators, {\n        editMode: editMode,\n        onContinue: closeModal,\n        goBack: function goBack() {\n          return setStep(DashboardElement.steps.PANEL);\n        }\n      })));\n    }\n  }, {\n    key: \"renderDynamicSentence\",\n    value: function renderDynamicSentence() {\n      var dynamicSentenceParts = this.props.dynamicSentenceParts;\n\n      if (dynamicSentenceParts) {\n        return dynamicSentenceParts.map(function (part, i) {\n          return React.createElement(React.Fragment, {\n            key: part.prefix + part.value + i\n          }, \"\".concat(part.prefix, \" \"), part.value && React.createElement(\"span\", {\n            className: \"dashboard-element-title-item notranslate\"\n          }, part.value));\n        });\n      }\n\n      return 'Dashboards';\n    }\n  }, {\n    key: \"renderWidgets\",\n    value: function renderWidgets() {\n      var activeIndicators = this.props.activeIndicators;\n      return React.createElement(\"div\", {\n        className: \"row -equal-height -flex-end\"\n      }, activeIndicators.map(function (indicator) {\n        return React.createElement(\"div\", {\n          key: indicator.id,\n          className: \"column small-12 medium-6 \"\n        }, React.createElement(DashboardWiget, {\n          url: indicator.url,\n          title: indicator.displayName,\n          chartType: indicator.chartType\n        }));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          modalOpen = _this$props2.modalOpen,\n          activeIndicators = _this$props2.activeIndicators,\n          reopenPanel = _this$props2.reopenPanel,\n          goToRoot = _this$props2.goToRoot,\n          _this$props2$dirtyBlo = _this$props2.dirtyBlocks,\n          dirtyBlocks = _this$props2$dirtyBlo === void 0 ? {} : _this$props2$dirtyBlo;\n      var hasIndicators = activeIndicators.length > 0;\n      var hasOptionsSelected = Object.values(dirtyBlocks).some(function (b) {\n        return b;\n      });\n      var canProceed = hasOptionsSelected && hasIndicators;\n      return React.createElement(\"div\", {\n        className: \"l-dashboard-element\"\n      }, React.createElement(\"div\", {\n        className: \"c-dashboard-element\"\n      }, React.createElement(\"section\", {\n        className: \"dashboard-element-header\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"div\", {\n        className: \"column small-12\"\n      }, React.createElement(\"h2\", {\n        className: \"dashboard-element-title\"\n      }, this.renderDynamicSentence()))), React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"div\", {\n        className: \"column small-12 medium-6\"\n      }, React.createElement(\"div\", {\n        className: \"dashboard-header-actions\"\n      }, React.createElement(Button, {\n        type: \"button\",\n        color: \"gray\",\n        size: \"sm\",\n        className: \"dashboard-header-action -panel\",\n        onClick: function onClick() {\n          return reopenPanel(DashboardElement.steps.PANEL, canProceed);\n        }\n      }, \"Edit Options\"), React.createElement(Button, {\n        type: \"button\",\n        color: \"gray-transparent\",\n        size: \"sm\",\n        className: \"dashboard-header-action -panel\",\n        onClick: function onClick() {\n          return reopenPanel(DashboardElement.steps.INDICATORS, canProceed);\n        }\n      }, \"Edit Indicators\"))), React.createElement(\"div\", {\n        className: \"column small-12 medium-6\"\n      }, React.createElement(\"div\", {\n        className: \"dashboard-header-actions -end\"\n      }, React.createElement(\"button\", {\n        className: \"dashboard-header-action -link\",\n        onClick: function onClick() {\n          return alert('coming soon');\n        }\n      }, React.createElement(\"svg\", {\n        className: \"icon icon-download\"\n      }, React.createElement(\"use\", {\n        xlinkHref: \"#icon-download\"\n      })), \"DOWNLOAD\"), React.createElement(\"button\", {\n        className: \"dashboard-header-action -link\",\n        onClick: function onClick() {\n          return alert('coming soon');\n        }\n      }, React.createElement(\"svg\", {\n        className: \"icon icon-share\"\n      }, React.createElement(\"use\", {\n        xlinkHref: \"#icon-share\"\n      })), \"SHARE\"))))), this.renderDashboardModal(), modalOpen === false && React.createElement(\"section\", {\n        className: \"dashboard-element-widgets\"\n      }, canProceed ? this.renderWidgets() : React.createElement(\"div\", {\n        className: \"row align-center\"\n      }, React.createElement(\"div\", {\n        className: \"column small-6\"\n      }, React.createElement(\"div\", {\n        className: \"dashboard-element-fallback\"\n      }, React.createElement(\"p\", {\n        className: \"dashboard-element-title dashboard-element-fallback-text\"\n      }, \"Your dashboard has no selection.\"), React.createElement(Button, {\n        color: \"gray-transparent\",\n        size: \"medium\",\n        className: \"dashboard-element-fallback-button\",\n        onClick: goToRoot\n      }, \"Go Back\")))))));\n    }\n  }]);\n\n  return DashboardElement;\n}(React.PureComponent);\n\n_defineProperty(DashboardElement, \"propTypes\", {\n  dirtyBlocks: PropTypes.object,\n  activeIndicators: PropTypes.array,\n  step: PropTypes.number.isRequired,\n  setStep: PropTypes.func.isRequired,\n  editMode: PropTypes.bool.isRequired,\n  reopenPanel: PropTypes.func.isRequired,\n  goToRoot: PropTypes.func.isRequired,\n  modalOpen: PropTypes.bool.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  dynamicSentenceParts: PropTypes.array\n});\n\n_defineProperty(DashboardElement, \"steps\", {\n  WELCOME: 0,\n  PANEL: 1,\n  INDICATORS: 2\n});\n\nvar _default = DashboardElement;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(DashboardElement, \"DashboardElement\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/dashboard-element/dashboard-element.component.jsx"],"names":["DashboardElement","React","PureComponent","dirtyBlocks","PropTypes","activeIndicators","step","setStep","editMode","reopenPanel","goToRoot","modalOpen","closeModal","dynamicSentenceParts","array","WELCOME","PANEL","INDICATORS","hasIndicators","hasOptionsSelected","canProceed","onClose","length","part","i","indicator","chartType","alert"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport SimpleModal from 'react-components/shared/simple-modal/simple-modal.component';\nimport DashboardPanel from 'react-components/dashboard-element/dashboard-panel/dashboard-panel.container';\nimport DashboardWelcome from 'react-components/dashboard-element/dashboard-welcome/dashboard-welcome.component';\nimport DashboardIndicators from 'react-components/dashboard-element/dashboard-indicators/dashboard-indicators.container';\nimport DashboardWiget from 'react-components/dashboard-element/dashboard-widget/dashboard-widget.container';\nimport Button from 'react-components/shared/button/button.component';\n\nimport 'react-components/dashboard-element/dashboard-element.scss';\n\nclass DashboardElement extends React.PureComponent {\n  static propTypes = {\n    dirtyBlocks: PropTypes.object,\n    activeIndicators: PropTypes.array,\n    step: PropTypes.number.isRequired,\n    setStep: PropTypes.func.isRequired,\n    editMode: PropTypes.bool.isRequired,\n    reopenPanel: PropTypes.func.isRequired,\n    goToRoot: PropTypes.func.isRequired,\n    modalOpen: PropTypes.bool.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    dynamicSentenceParts: PropTypes.array\n  };\n\n  static steps = {\n    WELCOME: 0,\n    PANEL: 1,\n    INDICATORS: 2\n  };\n\n  renderDashboardModal() {\n    const {\n      step,\n      setStep,\n      editMode,\n      goToRoot,\n      modalOpen,\n      closeModal,\n      activeIndicators,\n      dirtyBlocks\n    } = this.props;\n    const hasIndicators = activeIndicators.length > 0;\n    const hasOptionsSelected = Object.values(dirtyBlocks).some(b => b);\n    const canProceed = hasOptionsSelected && hasIndicators;\n    const onClose = editMode && canProceed ? closeModal : goToRoot;\n\n    return (\n      <React.Fragment>\n        {modalOpen && (\n          <section className=\"dashboard-element-placeholder\">\n            <div className=\"row\">\n              {Array.from({ length: 6 }).map((_, i) => (\n                <div key={i} className=\"column small-12 medium-6\">\n                  <b className=\"dashboard-element-placeholder-item\" />\n                </div>\n              ))}\n            </div>\n          </section>\n        )}\n        <SimpleModal isOpen={modalOpen} onRequestClose={onClose}>\n          {step === DashboardElement.steps.WELCOME && (\n            <DashboardWelcome onContinue={() => setStep(DashboardElement.steps.PANEL)} />\n          )}\n          {step === DashboardElement.steps.PANEL && (\n            <DashboardPanel\n              editMode={editMode}\n              onContinue={() =>\n                editMode && canProceed ? closeModal() : setStep(DashboardElement.steps.INDICATORS)\n              }\n            />\n          )}\n          {step === DashboardElement.steps.INDICATORS && (\n            <DashboardIndicators\n              editMode={editMode}\n              onContinue={closeModal}\n              goBack={() => setStep(DashboardElement.steps.PANEL)}\n            />\n          )}\n        </SimpleModal>\n      </React.Fragment>\n    );\n  }\n\n  renderDynamicSentence() {\n    const { dynamicSentenceParts } = this.props;\n\n    if (dynamicSentenceParts) {\n      return dynamicSentenceParts.map((part, i) => (\n        <React.Fragment key={part.prefix + part.value + i}>\n          {`${part.prefix} `}\n          {part.value && (\n            <span className=\"dashboard-element-title-item notranslate\">{part.value}</span>\n          )}\n        </React.Fragment>\n      ));\n    }\n\n    return 'Dashboards';\n  }\n\n  renderWidgets() {\n    const { activeIndicators } = this.props;\n    return (\n      <div className=\"row -equal-height -flex-end\">\n        {activeIndicators.map(indicator => (\n          <div key={indicator.id} className=\"column small-12 medium-6 \">\n            <DashboardWiget\n              url={indicator.url}\n              title={indicator.displayName}\n              chartType={indicator.chartType}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  render() {\n    const { modalOpen, activeIndicators, reopenPanel, goToRoot, dirtyBlocks = {} } = this.props;\n    const hasIndicators = activeIndicators.length > 0;\n    const hasOptionsSelected = Object.values(dirtyBlocks).some(b => b);\n    const canProceed = hasOptionsSelected && hasIndicators;\n    return (\n      <div className=\"l-dashboard-element\">\n        <div className=\"c-dashboard-element\">\n          <section className=\"dashboard-element-header\">\n            <div className=\"row\">\n              <div className=\"column small-12\">\n                <h2 className=\"dashboard-element-title\">{this.renderDynamicSentence()}</h2>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"column small-12 medium-6\">\n                <div className=\"dashboard-header-actions\">\n                  <Button\n                    type=\"button\"\n                    color=\"gray\"\n                    size=\"sm\"\n                    className=\"dashboard-header-action -panel\"\n                    onClick={() => reopenPanel(DashboardElement.steps.PANEL, canProceed)}\n                  >\n                    Edit Options\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    color=\"gray-transparent\"\n                    size=\"sm\"\n                    className=\"dashboard-header-action -panel\"\n                    onClick={() => reopenPanel(DashboardElement.steps.INDICATORS, canProceed)}\n                  >\n                    Edit Indicators\n                  </Button>\n                </div>\n              </div>\n              <div className=\"column small-12 medium-6\">\n                <div className=\"dashboard-header-actions -end\">\n                  <button\n                    className=\"dashboard-header-action -link\"\n                    onClick={() => alert('coming soon')}\n                  >\n                    <svg className=\"icon icon-download\">\n                      <use xlinkHref=\"#icon-download\" />\n                    </svg>\n                    DOWNLOAD\n                  </button>\n                  <button\n                    className=\"dashboard-header-action -link\"\n                    onClick={() => alert('coming soon')}\n                  >\n                    <svg className=\"icon icon-share\">\n                      <use xlinkHref=\"#icon-share\" />\n                    </svg>\n                    SHARE\n                  </button>\n                </div>\n              </div>\n            </div>\n          </section>\n          {this.renderDashboardModal()}\n          {modalOpen === false && (\n            <section className=\"dashboard-element-widgets\">\n              {canProceed ? (\n                this.renderWidgets()\n              ) : (\n                <div className=\"row align-center\">\n                  <div className=\"column small-6\">\n                    <div className=\"dashboard-element-fallback\">\n                      <p className=\"dashboard-element-title dashboard-element-fallback-text\">\n                        Your dashboard has no selection.\n                      </p>\n                      <Button\n                        color=\"gray-transparent\"\n                        size=\"medium\"\n                        className=\"dashboard-element-fallback-button\"\n                        onClick={goToRoot}\n                      >\n                        Go Back\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </section>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DashboardElement;\n"]}]}
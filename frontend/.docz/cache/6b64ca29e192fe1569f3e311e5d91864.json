{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx","mtime":1548345115542},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Siema from 'react-siema';\nimport cx from 'classnames';\nimport Card from 'react-components/shared/card/card.component';\nimport QuoteCard from 'react-components/shared/quote-card/quote-card.component';\nimport debounce from 'lodash/debounce';\nimport { DOCUMENT_POST_TYPES } from 'constants';\nimport Heading from 'react-components/shared/heading/heading.component';\nimport './slider-section.scss';\n\nvar SliderSection =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(SliderSection, _React$PureComponent);\n\n  function SliderSection(props) {\n    var _this;\n\n    _classCallCheck(this, SliderSection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SliderSection).call(this, props));\n    _this.state = {\n      currentSlide: 0,\n      visiblePages: SliderSection.getPerPage()\n    };\n    _this.mediaQueries = {\n      640: 2,\n      950: 3\n    }; // undocumented feature { window.innerWidth: perPage }\n\n    _this.getSliderRef = _this.getSliderRef.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSlideChange = _this.onSlideChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClickPrev = _this.onClickPrev.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onClickNext = _this.onClickNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onResize = debounce(_this.onResize.bind(_assertThisInitialized(_assertThisInitialized(_this))), 300);\n    return _this;\n  }\n\n  _createClass(SliderSection, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', this.onResize);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }, {\n    key: \"onClickPrev\",\n    value: function onClickPrev() {\n      this.slider.prev();\n    }\n  }, {\n    key: \"onClickNext\",\n    value: function onClickNext() {\n      this.slider.next();\n    }\n  }, {\n    key: \"onSlideChange\",\n    value: function onSlideChange() {\n      this.setState({\n        currentSlide: this.slider.currentSlide\n      });\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      this.setState({\n        visiblePages: SliderSection.getPerPage(),\n        currentSlide: this.slider ? this.slider.currentSlide : 0\n      });\n    }\n  }, {\n    key: \"getSliderRef\",\n    value: function getSliderRef(ref) {\n      this.slider = ref;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          name = _this$props.name,\n          slides = _this$props.slides;\n      var _this$state = this.state,\n          visiblePages = _this$state.visiblePages,\n          currentSlide = _this$state.currentSlide;\n      var smallScreen = visiblePages === 1;\n      var numColumns = slides.length <= visiblePages && visiblePages < 3 ? 6 : 4;\n      if (slides.length === 0) return null;\n      return React.createElement(\"section\", {\n        className: cx('c-slider-section', className)\n      }, React.createElement(\"div\", {\n        className: cx('row', 'slider-wrapper', {\n          '-auto-width': slides.length < visiblePages\n        })\n      }, React.createElement(\"div\", {\n        className: \"column small-12\"\n      }, React.createElement(Heading, {\n        as: \"h3\",\n        variant: \"mono\",\n        color: \"pink\",\n        size: \"sm\"\n      }, name)), React.createElement(Siema, {\n        perPage: this.mediaQueries,\n        draggable: smallScreen,\n        loop: false,\n        ref: this.getSliderRef,\n        onChange: this.onSlideChange\n      }, slides.map(function (slide) {\n        return React.createElement(\"div\", {\n          key: slide.title || slide.quote,\n          className: \"column small-12 medium-\".concat(numColumns)\n        }, slide.quote ? React.createElement(QuoteCard, {\n          quote: slide.quote,\n          name: slide.authorName,\n          title: slide.authorTitle,\n          imageUrl: slide.imageUrl\n        }) : React.createElement(Card, {\n          translateUrl: true,\n          title: slide.title,\n          subtitle: slide.category,\n          imageUrl: slide.imageUrl,\n          linkUrl: slide.completePostUrl,\n          actionName: SliderSection.getActionName(slide.category)\n        }));\n      })), currentSlide > 0 && React.createElement(\"button\", {\n        className: cx('slide-prev', {\n          '-no-image': !!slides[0].quote\n        }),\n        onClick: this.onClickPrev\n      }), currentSlide < slides.length - visiblePages && React.createElement(\"button\", {\n        className: cx('slide-next', {\n          '-no-image': !!slides[0].quote\n        }),\n        onClick: this.onClickNext\n      })));\n    }\n  }], [{\n    key: \"getPerPage\",\n    value: function getPerPage() {\n      // might seem repetitive but it's still needed.\n      switch (true) {\n        case window.innerWidth < 640:\n          return 1;\n\n        case window.innerWidth < 950:\n          return 2;\n\n        default:\n          return 3;\n      }\n    }\n  }, {\n    key: \"getActionName\",\n    value: function getActionName(category) {\n      if (DOCUMENT_POST_TYPES.includes(category)) {\n        return 'Open document';\n      }\n\n      return 'See More';\n    }\n  }]);\n\n  return SliderSection;\n}(React.PureComponent);\n\nSliderSection.propTypes = {\n  className: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  slides: PropTypes.array.isRequired\n};\nvar _default = SliderSection;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(SliderSection, \"SliderSection\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/home/slider-section/slider-section.component.jsx"],"names":["SliderSection","React","PureComponent","currentSlide","visiblePages","debounce","window","category","DOCUMENT_POST_TYPES","ref","className","name","slides","smallScreen","numColumns","cx","onSlideChange","slide","imageUrl","quote","onClickPrev","onClickNext","PropTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Siema from 'react-siema';\nimport cx from 'classnames';\nimport Card from 'react-components/shared/card/card.component';\nimport QuoteCard from 'react-components/shared/quote-card/quote-card.component';\nimport debounce from 'lodash/debounce';\nimport { DOCUMENT_POST_TYPES } from 'constants';\nimport Heading from 'react-components/shared/heading/heading.component';\n\nimport './slider-section.scss';\n\nclass SliderSection extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentSlide: 0,\n      visiblePages: SliderSection.getPerPage()\n    };\n\n    this.mediaQueries = { 640: 2, 950: 3 }; // undocumented feature { window.innerWidth: perPage }\n    this.getSliderRef = this.getSliderRef.bind(this);\n    this.onSlideChange = this.onSlideChange.bind(this);\n    this.onClickPrev = this.onClickPrev.bind(this);\n    this.onClickNext = this.onClickNext.bind(this);\n    this.onResize = debounce(this.onResize.bind(this), 300);\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  onClickPrev() {\n    this.slider.prev();\n  }\n\n  onClickNext() {\n    this.slider.next();\n  }\n\n  onSlideChange() {\n    this.setState({ currentSlide: this.slider.currentSlide });\n  }\n\n  onResize() {\n    this.setState({\n      visiblePages: SliderSection.getPerPage(),\n      currentSlide: this.slider ? this.slider.currentSlide : 0\n    });\n  }\n\n  static getPerPage() {\n    // might seem repetitive but it's still needed.\n    switch (true) {\n      case window.innerWidth < 640:\n        return 1;\n      case window.innerWidth < 950:\n        return 2;\n      default:\n        return 3;\n    }\n  }\n\n  static getActionName(category) {\n    if (DOCUMENT_POST_TYPES.includes(category)) {\n      return 'Open document';\n    }\n    return 'See More';\n  }\n\n  getSliderRef(ref) {\n    this.slider = ref;\n  }\n\n  render() {\n    const { className, name, slides } = this.props;\n    const { visiblePages, currentSlide } = this.state;\n    const smallScreen = visiblePages === 1;\n    const numColumns = slides.length <= visiblePages && visiblePages < 3 ? 6 : 4;\n\n    if (slides.length === 0) return null;\n    return (\n      <section className={cx('c-slider-section', className)}>\n        <div\n          className={cx('row', 'slider-wrapper', { '-auto-width': slides.length < visiblePages })}\n        >\n          <div className=\"column small-12\">\n            <Heading as=\"h3\" variant=\"mono\" color=\"pink\" size=\"sm\">\n              {name}\n            </Heading>\n          </div>\n          <Siema\n            perPage={this.mediaQueries}\n            draggable={smallScreen}\n            loop={false}\n            ref={this.getSliderRef}\n            onChange={this.onSlideChange}\n          >\n            {slides.map(slide => (\n              <div\n                key={slide.title || slide.quote}\n                className={`column small-12 medium-${numColumns}`}\n              >\n                {slide.quote ? (\n                  <QuoteCard\n                    quote={slide.quote}\n                    name={slide.authorName}\n                    title={slide.authorTitle}\n                    imageUrl={slide.imageUrl}\n                  />\n                ) : (\n                  <Card\n                    translateUrl\n                    title={slide.title}\n                    subtitle={slide.category}\n                    imageUrl={slide.imageUrl}\n                    linkUrl={slide.completePostUrl}\n                    actionName={SliderSection.getActionName(slide.category)}\n                  />\n                )}\n              </div>\n            ))}\n          </Siema>\n          {currentSlide > 0 && (\n            <button\n              className={cx('slide-prev', { '-no-image': !!slides[0].quote })}\n              onClick={this.onClickPrev}\n            />\n          )}\n          {currentSlide < slides.length - visiblePages && (\n            <button\n              className={cx('slide-next', { '-no-image': !!slides[0].quote })}\n              onClick={this.onClickNext}\n            />\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nSliderSection.propTypes = {\n  className: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  slides: PropTypes.array.isRequired\n};\n\nexport default SliderSection;\n"]}]}
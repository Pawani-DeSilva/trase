{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js","mtime":1543486759570},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport intersection from 'lodash/intersection';\nimport { YEARS_DISABLED_WARNINGS as W, YEARS_INCOMPLETE } from 'constants';\n\nvar getDimensionWarning = function getDimensionWarning(reason) {\n  var existingDataYears = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var layerDataYears = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var reasonWarning = W[\"\".concat(reason, \"_REASON\")].replace('$years', layerDataYears.join(', '));\n  var reasonInstruction = W[\"\".concat(reason, \"_INSTRUCTION\")].replace('$years', existingDataYears.join(', '));\n  return [reasonWarning, reasonInstruction].join(' ');\n};\n\nvar getMapDimensionsWarnings = function getMapDimensionsWarnings(mapDimensions, selectedMapDimensionsUids, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      startYear = _ref2[0],\n      endYear = _ref2[1];\n\n  var dimensions = mapDimensions.filter(function (d) {\n    return selectedMapDimensionsUids.indexOf(d.uid) > -1 && typeof d.disabledYearRangeReason !== 'undefined';\n  });\n  var allSelectedYears = Array(endYear - startYear + 1).fill(startYear).map(function (year, index) {\n    return year + index;\n  });\n\n  if (dimensions.length === 0) {\n    return null;\n  }\n\n  if (dimensions.length === 2 && dimensions[0].disabledYearRangeReason === dimensions[1].disabledYearRangeReason && dimensions[0].disabledYearRangeReason !== YEARS_INCOMPLETE) {\n    return [W.THOSE_LAYERS.replace('$layer0', dimensions[0].name).replace('$layer1', dimensions[1].name)].concat(getDimensionWarning(dimensions[0].disabledYearRangeReason)).join(' ');\n  }\n\n  var warnings = [W.THAT_LAYER.replace('$layer', dimensions[0].name)].concat(getDimensionWarning(dimensions[0].disabledYearRangeReason, intersection(dimensions[0].years, allSelectedYears), dimensions[0].years));\n\n  if (dimensions.length === 2) {\n    warnings = warnings.concat('<br>').concat([W.THAT_LAYER.replace('$layer', dimensions[1].name)]).concat(getDimensionWarning(dimensions[1].disabledYearRangeReason, intersection(dimensions[1].years, allSelectedYears), dimensions[0].years));\n  }\n\n  return warnings.join(' ');\n};\n\nvar getSingleMapDimensionWarning = function getSingleMapDimensionWarning(reason, existingYears, layerDataYears) {\n  return [W.THIS_LAYER].concat(getDimensionWarning(reason, existingYears, layerDataYears)).join(' ');\n};\n\nexport { getMapDimensionsWarnings, getSingleMapDimensionWarning };\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_slicedToArray, \"_slicedToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(_nonIterableRest, \"_nonIterableRest\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(_iterableToArrayLimit, \"_iterableToArrayLimit\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(_arrayWithHoles, \"_arrayWithHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(getDimensionWarning, \"getDimensionWarning\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(getMapDimensionsWarnings, \"getMapDimensionsWarnings\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  reactHotLoader.register(getSingleMapDimensionWarning, \"getSingleMapDimensionWarning\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/reducers/helpers/getMapDimensionsWarnings.js"],"names":["YEARS_DISABLED_WARNINGS","getDimensionWarning","existingDataYears","layerDataYears","reasonWarning","W","reasonInstruction","getMapDimensionsWarnings","startYear","endYear","dimensions","selectedMapDimensionsUids","d","allSelectedYears","year","warnings","intersection","getSingleMapDimensionWarning"],"mappings":"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","sourcesContent":["import intersection from 'lodash/intersection';\nimport { YEARS_DISABLED_WARNINGS as W, YEARS_INCOMPLETE } from 'constants';\n\nconst getDimensionWarning = (reason, existingDataYears = [], layerDataYears = []) => {\n  const reasonWarning = W[`${reason}_REASON`].replace('$years', layerDataYears.join(', '));\n  const reasonInstruction = W[`${reason}_INSTRUCTION`].replace(\n    '$years',\n    existingDataYears.join(', ')\n  );\n\n  return [reasonWarning, reasonInstruction].join(' ');\n};\n\nconst getMapDimensionsWarnings = (\n  mapDimensions,\n  selectedMapDimensionsUids,\n  [startYear, endYear]\n) => {\n  const dimensions = mapDimensions.filter(\n    d =>\n      selectedMapDimensionsUids.indexOf(d.uid) > -1 &&\n      typeof d.disabledYearRangeReason !== 'undefined'\n  );\n  const allSelectedYears = Array(endYear - startYear + 1)\n    .fill(startYear)\n    .map((year, index) => year + index);\n  if (dimensions.length === 0) {\n    return null;\n  }\n  if (\n    dimensions.length === 2 &&\n    dimensions[0].disabledYearRangeReason === dimensions[1].disabledYearRangeReason &&\n    dimensions[0].disabledYearRangeReason !== YEARS_INCOMPLETE\n  ) {\n    return [\n      W.THOSE_LAYERS.replace('$layer0', dimensions[0].name).replace('$layer1', dimensions[1].name)\n    ]\n      .concat(getDimensionWarning(dimensions[0].disabledYearRangeReason))\n      .join(' ');\n  }\n  let warnings = [W.THAT_LAYER.replace('$layer', dimensions[0].name)].concat(\n    getDimensionWarning(\n      dimensions[0].disabledYearRangeReason,\n      intersection(dimensions[0].years, allSelectedYears),\n      dimensions[0].years\n    )\n  );\n\n  if (dimensions.length === 2) {\n    warnings = warnings\n      .concat('<br>')\n      .concat([W.THAT_LAYER.replace('$layer', dimensions[1].name)])\n      .concat(\n        getDimensionWarning(\n          dimensions[1].disabledYearRangeReason,\n          intersection(dimensions[1].years, allSelectedYears),\n          dimensions[0].years\n        )\n      );\n  }\n  return warnings.join(' ');\n};\n\nconst getSingleMapDimensionWarning = (reason, existingYears, layerDataYears) =>\n  [W.THIS_LAYER].concat(getDimensionWarning(reason, existingYears, layerDataYears)).join(' ');\n\nexport { getMapDimensionsWarnings, getSingleMapDimensionWarning };\n"]}]}
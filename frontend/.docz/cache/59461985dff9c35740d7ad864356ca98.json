{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js","mtime":1548840708298},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport kebabCase from 'lodash/kebabCase';\nimport { NOT_FOUND, redirect } from 'redux-first-router';\nimport { GET_MARKDOWN_CONTENT_URL, getURLFromParams } from 'utils/getURLFromParams';\nexport var STATIC_CONTENT__SET_MARKDOWN = 'STATIC_CONTENT__SET_MARKDOWN';\nexport var getStaticContentFilename = function getStaticContentFilename(_ref) {\n  var type = _ref.type,\n      payload = _ref.payload;\n  return \"\".concat(type).concat(payload.section ? \"/\".concat(kebabCase(payload.section)) : '/index');\n};\nexport var getStaticContent = function getStaticContent() {\n  return function (dispatch, getState) {\n    var _getState = getState(),\n        location = _getState.location,\n        staticContent = _getState.staticContent;\n\n    var filename = getStaticContentFilename(location);\n    var notFound = location.type === NOT_FOUND;\n\n    if (typeof staticContent.markdown[filename] === 'undefined' && !notFound) {\n      var url = getURLFromParams(GET_MARKDOWN_CONTENT_URL, {\n        filename: filename\n      });\n      fetch(url).then(function (res) {\n        return res.ok ? res.text() : Promise.reject(res);\n      }).then(function (content) {\n        return dispatch({\n          type: STATIC_CONTENT__SET_MARKDOWN,\n          payload: {\n            filename: filename,\n            content: content\n          }\n        });\n      }).catch(function (err) {\n        if (err.status === 404 && !notFound) {\n          return dispatch(redirect({\n            type: NOT_FOUND\n          }));\n        }\n\n        return console.error(err.statusText);\n      });\n    }\n  };\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(STATIC_CONTENT__SET_MARKDOWN, \"STATIC_CONTENT__SET_MARKDOWN\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js\");\n  reactHotLoader.register(getStaticContentFilename, \"getStaticContentFilename\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js\");\n  reactHotLoader.register(getStaticContent, \"getStaticContent\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/static-content/static-content.actions.js"],"names":["STATIC_CONTENT__SET_MARKDOWN","getStaticContentFilename","type","payload","kebabCase","getStaticContent","location","staticContent","getState","filename","notFound","url","getURLFromParams","fetch","res","Promise","dispatch","content","err","redirect","NOT_FOUND","console"],"mappings":";;;;;;AAAA,OAAA,SAAA,MAAA,kBAAA;AACA,SAAA,SAAA,EAAA,QAAA,QAAA,oBAAA;AACA,SAAA,wBAAA,EAAA,gBAAA,QAAA,wBAAA;AAEA,OAAO,IAAMA,4BAA4B,GAAlC,8BAAA;AAEP,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,CAAA,IAAA,EAAA;AAAA,MAAGC,IAAH,GAAA,IAAA,CAAA,IAAA;AAAA,MAASC,OAAT,GAAA,IAAA,CAAA,OAAA;AAAA,SAAA,GAAA,MAAA,CAAA,IAAA,EAAA,MAAA,CAC5BA,OAAO,CAAPA,OAAAA,GAAAA,IAAAA,MAAAA,CAAsBC,SAAS,CAACD,OAAO,CAAvCA,OAA+B,CAA/BA,CAAAA,GAD4B,QAAA,CAAA;AAAjC,CAAA;AAGP,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAA;AAAA,SAAM,UAAA,QAAA,EAAA,QAAA,EAAwB;AAAA,QAAA,SAAA,GACxBG,QADwB,EAAA;AAAA,QACpDF,QADoD,GAAA,SAAA,CAAA,QAAA;AAAA,QAC1CC,aAD0C,GAAA,SAAA,CAAA,aAAA;;AAE5D,QAAME,QAAQ,GAAGR,wBAAwB,CAAzC,QAAyC,CAAzC;AACA,QAAMS,QAAQ,GAAGJ,QAAQ,CAARA,IAAAA,KAAjB,SAAA;;AACA,QAAI,OAAOC,aAAa,CAAbA,QAAAA,CAAP,QAAOA,CAAP,KAAA,WAAA,IAA2D,CAA/D,QAAA,EAA0E;AACxE,UAAMI,GAAG,GAAGC,gBAAgB,CAAA,wBAAA,EAA2B;AAAEH,QAAAA,QAAQ,EAARA;AAAF,OAA3B,CAA5B;AACAI,MAAAA,KAAK,CAALA,GAAK,CAALA,CAAAA,IAAAA,CACQ,UAAA,GAAA,EAAG;AAAA,eAAKC,GAAG,CAAHA,EAAAA,GAASA,GAAG,CAAZA,IAASA,EAATA,GAAsBC,OAAO,CAAPA,MAAAA,CAA3B,GAA2BA,CAA3B;AADXF,OAAAA,EAAAA,IAAAA,CAEQ,UAAA,OAAA,EAAO;AAAA,eACXG,QAAQ,CAAC;AACPd,UAAAA,IAAI,EADG,4BAAA;AAEPC,UAAAA,OAAO,EAAE;AAAEM,YAAAA,QAAQ,EAAV,QAAA;AAAYQ,YAAAA,OAAO,EAAPA;AAAZ;AAFF,SAAD,CADG;AAFfJ,OAAAA,EAAAA,KAAAA,CAQS,UAAA,GAAA,EAAO;AACZ,YAAIK,GAAG,CAAHA,MAAAA,KAAAA,GAAAA,IAAsB,CAA1B,QAAA,EAAqC;AACnC,iBAAOF,QAAQ,CAACG,QAAQ,CAAC;AAAEjB,YAAAA,IAAI,EAAEkB;AAAR,WAAD,CAAT,CAAf;AACD;;AACD,eAAOC,OAAO,CAAPA,KAAAA,CAAcH,GAAG,CAAxB,UAAOG,CAAP;AAZJR,OAAAA;AAcD;AApB6B,GAAA;AAAzB,CAAA;;;;;;;;;;;;0BALMb,4B;0BAEAC,wB;0BAGAI,gB","sourcesContent":["import kebabCase from 'lodash/kebabCase';\nimport { NOT_FOUND, redirect } from 'redux-first-router';\nimport { GET_MARKDOWN_CONTENT_URL, getURLFromParams } from 'utils/getURLFromParams';\n\nexport const STATIC_CONTENT__SET_MARKDOWN = 'STATIC_CONTENT__SET_MARKDOWN';\n\nexport const getStaticContentFilename = ({ type, payload }) =>\n  `${type}${payload.section ? `/${kebabCase(payload.section)}` : '/index'}`;\n\nexport const getStaticContent = () => (dispatch, getState) => {\n  const { location, staticContent } = getState();\n  const filename = getStaticContentFilename(location);\n  const notFound = location.type === NOT_FOUND;\n  if (typeof staticContent.markdown[filename] === 'undefined' && !notFound) {\n    const url = getURLFromParams(GET_MARKDOWN_CONTENT_URL, { filename });\n    fetch(url)\n      .then(res => (res.ok ? res.text() : Promise.reject(res)))\n      .then(content =>\n        dispatch({\n          type: STATIC_CONTENT__SET_MARKDOWN,\n          payload: { filename, content }\n        })\n      )\n      .catch(err => {\n        if (err.status === 404 && !notFound) {\n          return dispatch(redirect({ type: NOT_FOUND }));\n        }\n        return console.error(err.statusText);\n      });\n  }\n};\n"]}]}
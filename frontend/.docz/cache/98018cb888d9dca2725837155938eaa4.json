{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js","mtime":1548840716985},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { connectRoutes, NOT_FOUND, redirect, replace } from 'redux-first-router';\nimport restoreScroll from 'redux-first-router-restore-scroll';\nimport { parse, stringify } from 'utils/stateURL';\nimport { BREAKPOINTS } from 'constants';\nimport { getPostsContent, getTestimonialsContent, getTweetsContent } from 'react-components/home/home.thunks';\nimport withSidebarNavLayout from 'react-components/nav/sidebar-nav/with-sidebar-nav-layout.hoc';\nimport getPageStaticContent from 'react-components/static-content/static-content.thunks';\nimport loadBaseAppData from 'react-components/shared/app.thunks';\nimport getTeam from 'react-components/team/team.thunks';\nimport { loadDashboardTemplates } from 'react-components/dashboard-root/dashboard-root.thunks';\nimport { redirectToExplore } from 'react-components/explore/explore.thunks';\nimport { loadToolInitialData } from 'scripts/react-components/tool/tool.thunks';\nimport getPageTitle from 'scripts/router/page-title';\nvar pagesNotSupportedOnMobile = ['tool', 'map', 'data']; // We await for all thunks using Promise.all, this makes the result then-able and allows us to\n// add an await solely to the thunks that need it.\n\nvar dispatchThunks = function dispatchThunks() {\n  for (var _len = arguments.length, thunks = new Array(_len), _key = 0; _key < _len; _key++) {\n    thunks[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      params[_key2] = arguments[_key2];\n    }\n\n    return Promise.all(thunks.map(function (thunk) {\n      return thunk.apply(void 0, params);\n    }));\n  };\n};\n\nvar loadPageData = function loadPageData() {\n  for (var _len3 = arguments.length, thunks = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    thunks[_key3] = arguments[_key3];\n  }\n\n  return function () {\n    for (var _len4 = arguments.length, params = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      params[_key4] = arguments[_key4];\n    }\n\n    return loadBaseAppData.apply(void 0, params).then(function () {\n      return Promise.all(thunks.map(function (thunk) {\n        return thunk.apply(void 0, params);\n      }));\n    });\n  };\n};\n\nexport var routes = _defineProperty({\n  home: {\n    path: '/',\n    page: 'home',\n    title: getPageTitle,\n    thunk: loadPageData(getPostsContent, getTweetsContent, getTestimonialsContent)\n  },\n  explore: {\n    path: '/explore',\n    page: 'explore',\n    title: getPageTitle,\n    thunk: loadPageData(),\n    nav: {\n      className: '-light',\n      links: []\n    }\n  },\n  tool: {\n    path: '/flows',\n    page: 'tool',\n    title: getPageTitle,\n    thunk: loadPageData(loadToolInitialData)\n  },\n  profileRoot: {\n    path: '/profiles',\n    page: 'profile-root',\n    title: getPageTitle,\n    extension: 'jsx',\n    nav: {\n      className: '-light'\n    },\n    thunk: loadPageData()\n  },\n  profileNode: {\n    path: '/profile-:profileType',\n    page: 'profile-node',\n    title: getPageTitle,\n    nav: {\n      className: '-light',\n      printable: true\n    },\n    thunk: loadPageData()\n  },\n  dashboardRoot: {\n    path: '/dashboards',\n    page: 'dashboard-root',\n    title: getPageTitle,\n    thunk: loadPageData(loadDashboardTemplates)\n  },\n  dashboardElement: {\n    path: '/dashboards/:dashboardId',\n    page: 'dashboard-element',\n    title: getPageTitle,\n    thunk: loadPageData(getPostsContent)\n  },\n  data: {\n    path: '/data',\n    page: 'data-portal',\n    title: getPageTitle,\n    thunk: loadPageData(),\n    nav: {\n      className: '-light'\n    }\n  },\n  team: {\n    path: '/about/team',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getTeam),\n    layout: withSidebarNavLayout\n  },\n  teamMember: {\n    path: '/about/team/:member',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getTeam),\n    layout: withSidebarNavLayout,\n    parent: 'team'\n  },\n  about: {\n    path: '/about/:section?',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getPageStaticContent),\n    layout: withSidebarNavLayout\n  },\n  notSupportedOnMobile: {\n    path: '/not-supported',\n    page: 'not-supported',\n    title: getPageTitle,\n    nav: {\n      className: '-light'\n    },\n    thunk: loadPageData()\n  },\n  logisticsMap: {\n    path: '/logistics-map',\n    page: 'logistics-map',\n    thunk: loadPageData(),\n    title: getPageTitle\n  }\n}, NOT_FOUND, {\n  path: '/404',\n  page: 'static-content',\n  title: getPageTitle,\n  thunk: loadPageData(function () {\n    return replace('/404');\n  }, getPageStaticContent)\n});\nvar config = {\n  basename: '/',\n  notFoundPath: '/404',\n  querySerializer: {\n    parse: parse,\n    stringify: stringify\n  },\n  title: function title(state) {\n    var route = routes[state.location.type];\n\n    if (!route.title) {\n      return 'TRASE';\n    }\n\n    if (typeof route.title === 'function') {\n      return route.title(state);\n    }\n\n    return route;\n  },\n  onBeforeChange: function onBeforeChange(dispatch, getState, _ref) {\n    var action = _ref.action;\n    var isMobile = window.innerWidth <= BREAKPOINTS.small;\n\n    if (isMobile && pagesNotSupportedOnMobile.includes(action.type)) {\n      return dispatch(redirect({\n        type: 'notSupportedOnMobile'\n      }));\n    }\n\n    return dispatchThunks(redirectToExplore)(dispatch, getState, {\n      action: action\n    });\n  },\n  restoreScroll: restoreScroll({\n    shouldUpdateScroll: function shouldUpdateScroll(prev, current) {\n      if ((current.kind === 'redirect' && prev.kind === 'push' || current.kind === 'pop' && prev.kind === 'pop') && prev.pathname === current.pathname) {\n        return prev.prev.pathname !== current.pathname ? [0, 0] : false;\n      }\n\n      return prev.pathname !== current.pathname ? [0, 0] : false;\n    }\n  })\n};\n\nvar _default = connectRoutes(routes, config);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(pagesNotSupportedOnMobile, \"pagesNotSupportedOnMobile\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(dispatchThunks, \"dispatchThunks\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(loadPageData, \"loadPageData\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(routes, \"routes\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(config, \"config\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/router/router.js"],"names":["pagesNotSupportedOnMobile","dispatchThunks","thunks","params","thunk","loadPageData","routes","home","path","page","title","explore","nav","className","links","tool","profileRoot","extension","profileNode","printable","dashboardRoot","dashboardElement","data","team","layout","withSidebarNavLayout","teamMember","parent","about","notSupportedOnMobile","logisticsMap","getPageTitle","replace","config","basename","notFoundPath","querySerializer","parse","stringify","route","state","onBeforeChange","action","isMobile","window","BREAKPOINTS","dispatch","redirect","type","restoreScroll","shouldUpdateScroll","current","prev","connectRoutes"],"mappings":"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","sourcesContent":["import { connectRoutes, NOT_FOUND, redirect, replace } from 'redux-first-router';\nimport restoreScroll from 'redux-first-router-restore-scroll';\nimport { parse, stringify } from 'utils/stateURL';\n\nimport { BREAKPOINTS } from 'constants';\nimport {\n  getPostsContent,\n  getTestimonialsContent,\n  getTweetsContent\n} from 'react-components/home/home.thunks';\nimport withSidebarNavLayout from 'react-components/nav/sidebar-nav/with-sidebar-nav-layout.hoc';\nimport getPageStaticContent from 'react-components/static-content/static-content.thunks';\nimport loadBaseAppData from 'react-components/shared/app.thunks';\nimport getTeam from 'react-components/team/team.thunks';\nimport { loadDashboardTemplates } from 'react-components/dashboard-root/dashboard-root.thunks';\nimport { redirectToExplore } from 'react-components/explore/explore.thunks';\nimport { loadToolInitialData } from 'scripts/react-components/tool/tool.thunks';\nimport getPageTitle from 'scripts/router/page-title';\n\nconst pagesNotSupportedOnMobile = ['tool', 'map', 'data'];\n\n// We await for all thunks using Promise.all, this makes the result then-able and allows us to\n// add an await solely to the thunks that need it.\nconst dispatchThunks = (...thunks) => (...params) =>\n  Promise.all(thunks.map(thunk => thunk(...params)));\n\nconst loadPageData = (...thunks) => (...params) =>\n  loadBaseAppData(...params).then(() => Promise.all(thunks.map(thunk => thunk(...params))));\n\nexport const routes = {\n  home: {\n    path: '/',\n    page: 'home',\n    title: getPageTitle,\n    thunk: loadPageData(getPostsContent, getTweetsContent, getTestimonialsContent)\n  },\n  explore: {\n    path: '/explore',\n    page: 'explore',\n    title: getPageTitle,\n    thunk: loadPageData(),\n    nav: {\n      className: '-light',\n      links: []\n    }\n  },\n  tool: {\n    path: '/flows',\n    page: 'tool',\n    title: getPageTitle,\n    thunk: loadPageData(loadToolInitialData)\n  },\n  profileRoot: {\n    path: '/profiles',\n    page: 'profile-root',\n    title: getPageTitle,\n    extension: 'jsx',\n    nav: {\n      className: '-light'\n    },\n    thunk: loadPageData()\n  },\n  profileNode: {\n    path: '/profile-:profileType',\n    page: 'profile-node',\n    title: getPageTitle,\n    nav: {\n      className: '-light',\n      printable: true\n    },\n    thunk: loadPageData()\n  },\n  dashboardRoot: {\n    path: '/dashboards',\n    page: 'dashboard-root',\n    title: getPageTitle,\n    thunk: loadPageData(loadDashboardTemplates)\n  },\n  dashboardElement: {\n    path: '/dashboards/:dashboardId',\n    page: 'dashboard-element',\n    title: getPageTitle,\n    thunk: loadPageData(getPostsContent)\n  },\n  data: {\n    path: '/data',\n    page: 'data-portal',\n    title: getPageTitle,\n    thunk: loadPageData(),\n    nav: {\n      className: '-light'\n    }\n  },\n  team: {\n    path: '/about/team',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getTeam),\n    layout: withSidebarNavLayout\n  },\n  teamMember: {\n    path: '/about/team/:member',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getTeam),\n    layout: withSidebarNavLayout,\n    parent: 'team'\n  },\n  about: {\n    path: '/about/:section?',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(getPageStaticContent),\n    layout: withSidebarNavLayout\n  },\n  notSupportedOnMobile: {\n    path: '/not-supported',\n    page: 'not-supported',\n    title: getPageTitle,\n    nav: {\n      className: '-light'\n    },\n    thunk: loadPageData()\n  },\n  logisticsMap: {\n    path: '/logistics-map',\n    page: 'logistics-map',\n    thunk: loadPageData(),\n    title: getPageTitle\n  },\n  [NOT_FOUND]: {\n    path: '/404',\n    page: 'static-content',\n    title: getPageTitle,\n    thunk: loadPageData(() => replace('/404'), getPageStaticContent)\n  }\n};\n\nconst config = {\n  basename: '/',\n  notFoundPath: '/404',\n  querySerializer: {\n    parse,\n    stringify\n  },\n  title: state => {\n    const route = routes[state.location.type];\n\n    if (!route.title) {\n      return 'TRASE';\n    }\n\n    if (typeof route.title === 'function') {\n      return route.title(state);\n    }\n\n    return route;\n  },\n  onBeforeChange: (dispatch, getState, { action }) => {\n    const isMobile = window.innerWidth <= BREAKPOINTS.small;\n\n    if (isMobile && pagesNotSupportedOnMobile.includes(action.type)) {\n      return dispatch(redirect({ type: 'notSupportedOnMobile' }));\n    }\n\n    return dispatchThunks(redirectToExplore)(dispatch, getState, { action });\n  },\n  restoreScroll: restoreScroll({\n    shouldUpdateScroll: (prev, current) => {\n      if (\n        ((current.kind === 'redirect' && prev.kind === 'push') ||\n          (current.kind === 'pop' && prev.kind === 'pop')) &&\n        prev.pathname === current.pathname\n      ) {\n        return prev.prev.pathname !== current.pathname ? [0, 0] : false;\n      }\n      return prev.pathname !== current.pathname ? [0, 0] : false;\n    }\n  })\n};\n\nexport default connectRoutes(routes, config);\n"]}]}
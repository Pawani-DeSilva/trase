{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js","mtime":1548840716960},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { createSelector } from 'reselect';\nimport intersection from 'lodash/intersection';\nimport sortBy from 'lodash/sortBy';\nimport cx from 'classnames';\nimport { getActiveParams } from 'react-components/logistics-map/logistics-map.selectors';\nimport { LOGISTICS_MAP_YEARS, LOGISTICS_MAP_HUBS, LOGISTICS_MAP_INSPECTION_LEVELS } from 'constants';\nimport difference from 'lodash/difference';\nimport FiltersNav from 'react-components/nav/filters-nav/filters-nav.component';\n\nvar insertIf = function insertIf(condition, item) {\n  return condition ? [item] : [];\n};\n\nvar getCurrentPage = function getCurrentPage(state) {\n  return state.location.type;\n};\n\nvar getSelectedContext = function getSelectedContext(state) {\n  return state.app.selectedContext;\n};\n\nvar getSelectedYears = function getSelectedYears(state) {\n  return state.app.selectedYears;\n};\n\nvar getToolSelectedResizeBy = function getToolSelectedResizeBy(state) {\n  return state.tool ? state.tool.selectedResizeBy : {};\n};\n\nvar getToolRecolorBy = function getToolRecolorBy(state) {\n  return state.tool ? state.tool.selectedRecolorBy : {};\n};\n\nvar getToolSelectedBiome = function getToolSelectedBiome(state) {\n  return state.tool && state.tool.selectedBiomeFilter;\n};\n\nvar getContextFilterBy = function getContextFilterBy(state) {\n  return state.app.selectedContext && state.app.selectedContext.filterBy;\n};\n\nvar getAppTooltips = function getAppTooltips(state) {\n  return state.app.tooltips;\n};\n\nvar getToolDetailedView = function getToolDetailedView(state) {\n  return state.tool && state.tool.detailedView;\n};\n\nvar getToolResizeBys = function getToolResizeBys(state) {\n  return state.app.selectedContext && state.app.selectedContext.resizeBy;\n};\n\nexport var getToolYearsProps = createSelector([getSelectedYears, getToolSelectedResizeBy, getToolRecolorBy, getSelectedContext], function (selectedYears, selectedResizeBy, selectedRecolorBy, selectedContext) {\n  var availableContextYears = selectedContext && selectedContext.years;\n  var availableResizeByYears = selectedResizeBy.years && selectedResizeBy.years.length > 0 ? selectedResizeBy.years : availableContextYears;\n  var availableRecolorByYears = selectedRecolorBy.years && selectedRecolorBy.years.length > 0 ? selectedRecolorBy.years : availableContextYears;\n  var years = intersection(availableContextYears, availableResizeByYears, availableRecolorByYears);\n  return {\n    years: years,\n    selectedYears: selectedYears\n  };\n});\nexport var getToolAdminLevelProps = createSelector([getToolSelectedBiome, getContextFilterBy], function (selectedFilter, filterBy) {\n  var _ref = filterBy || [],\n      _ref2 = _slicedToArray(_ref, 1),\n      adminLevel = _ref2[0];\n\n  if (!adminLevel) return null;\n  return {\n    label: adminLevel.name,\n    id: 'toolAdminLevel',\n    listClassName: '-medium',\n    items: [{\n      name: 'All',\n      id: 'none'\n    }].concat(_toConsumableArray(adminLevel.nodes.filter(function (node) {\n      return node.name !== (selectedFilter && selectedFilter.name);\n    }).map(function (node) {\n      return _objectSpread({}, node, {\n        id: node.name,\n        name: \"\".concat(node.name).toLowerCase()\n      });\n    }))),\n    selectedItem: typeof selectedFilter !== 'undefined' && selectedFilter.value !== 'none' ? _objectSpread({}, selectedFilter, {\n      name: \"\".concat(selectedFilter.name).toLowerCase()\n    }) : {\n      name: 'All'\n    }\n  };\n});\nexport var getToolResizeByProps = createSelector([getAppTooltips, getToolResizeBys, getSelectedYears, getToolSelectedResizeBy], function (tooltips, resizeBys, selectedYears, selectedResizeBy) {\n  var items = sortBy(resizeBys, ['groupNumber', 'position']).map(function (resizeBy, index, list) {\n    var isEnabled = !resizeBy.isDisabled && (resizeBy.years.length === 0 || difference(selectedYears, resizeBy.years).length === 0);\n    var hasSeparator = list[index - 1] && list[index - 1].groupNumber !== resizeBy.groupNumber;\n    return {\n      hasSeparator: hasSeparator,\n      id: resizeBy.name,\n      name: resizeBy.label,\n      isDisabled: !isEnabled,\n      tooltip: resizeBy.description\n    };\n  });\n  return {\n    items: items,\n    label: 'Resize by',\n    id: 'toolResizeBy',\n    titleClassName: '-small',\n    listClassName: '-medium',\n    selectedItem: {\n      name: selectedResizeBy.label || ''\n    },\n    tooltip: tooltips && tooltips.sankey.nav.resizeBy.main,\n    titleTooltip: tooltips && tooltips.sankey.nav.resizeBy[selectedResizeBy.name],\n    dropdownClassName: cx('-small -capitalize', {\n      '-hide-only-child': items.length <= 1\n    })\n  };\n});\nexport var getToolViewModeProps = createSelector([getAppTooltips, getToolDetailedView], function (tooltips, isDetailedView) {\n  var items = [{\n    name: 'Summary',\n    id: false\n  }, {\n    name: 'All Flows',\n    id: true\n  }];\n  return {\n    items: items.filter(function (i) {\n      return i.id !== isDetailedView;\n    }),\n    label: 'Change view',\n    id: 'toolViewMode',\n    tooltip: tooltips && tooltips.sankey.nav.view.main,\n    titleClassName: '-small',\n    dropdownClassName: '-capitalize -small',\n    selectedItem: items.find(function (item) {\n      return item.id === isDetailedView;\n    })\n  };\n});\nvar getLogisticsMapYearsProps = createSelector([getActiveParams], function (activeParams) {\n  return {\n    label: 'Year',\n    id: 'logisticsMapYear',\n    items: LOGISTICS_MAP_YEARS,\n    dropdownClassName: cx({\n      '-hide-only-child': activeParams.commodity !== 'soy'\n    }),\n    selectedItem: activeParams.commodity === 'soy' ? LOGISTICS_MAP_YEARS.find(function (year) {\n      return year.id === parseInt(activeParams.year, 10);\n    }) : {\n      name: '2012 – 2017'\n    }\n  };\n});\nvar getLogisticsMapHubsProps = createSelector([getActiveParams], function (activeParams) {\n  return {\n    label: 'Logistics Hub',\n    id: 'logisticsMapHub',\n    items: LOGISTICS_MAP_HUBS,\n    selectedItem: LOGISTICS_MAP_HUBS.find(function (commodity) {\n      return commodity.id === activeParams.commodity;\n    })\n  };\n});\nvar getLogisticsMapInspectionLevelProps = createSelector([getActiveParams], function (activeParams) {\n  if (activeParams.commodity === 'soy') {\n    return null;\n  }\n\n  return {\n    label: 'Inspection Level',\n    id: 'logisticsMapInspectionLevel',\n    dropdownClassName: '',\n    items: [{\n      name: 'All'\n    }].concat(_toConsumableArray(LOGISTICS_MAP_INSPECTION_LEVELS)),\n    selectedItem: LOGISTICS_MAP_INSPECTION_LEVELS.find(function (level) {\n      return level.id === activeParams.inspection;\n    }) || {\n      name: 'All'\n    }\n  };\n});\nexport var getNavFilters = createSelector([getCurrentPage, getSelectedContext, getToolAdminLevelProps, getToolResizeByProps, getToolViewModeProps, getLogisticsMapYearsProps, getLogisticsMapHubsProps, getLogisticsMapInspectionLevelProps], function (page, selectedContext, toolAdminLevel, toolResizeBy, toolViewMode, logisticsMapsYears, logisticsMapsHubs, logisticsMapInspectionLevel) {\n  var FILTER_TYPES = FiltersNav.FILTER_TYPES;\n\n  switch (page) {\n    case 'tool':\n      return {\n        showSearch: true,\n        showToolLinks: true,\n        left: [{\n          type: FILTER_TYPES.contextSelector,\n          props: {\n            selectedContext: selectedContext,\n            id: 'contextSelector'\n          }\n        }].concat(_toConsumableArray(insertIf(toolAdminLevel, {\n          type: FILTER_TYPES.dropdownSelector,\n          props: toolAdminLevel\n        })), [{\n          type: FILTER_TYPES.yearSelector,\n          props: {\n            id: 'yearsSelector'\n          }\n        }]),\n        right: [{\n          type: FILTER_TYPES.dropdownSelector,\n          props: toolResizeBy\n        }, {\n          type: FILTER_TYPES.recolorBySelector,\n          props: {\n            id: 'toolRecolorBy'\n          }\n        }, {\n          type: FILTER_TYPES.dropdownSelector,\n          props: toolViewMode\n        }]\n      };\n\n    case 'logisticsMap':\n      return {\n        showLogisticsMapDownload: true,\n        left: [{\n          type: FILTER_TYPES.dropdownSelector,\n          props: logisticsMapsHubs\n        }, {\n          type: FILTER_TYPES.dropdownSelector,\n          props: logisticsMapsYears\n        }].concat(_toConsumableArray(insertIf(logisticsMapInspectionLevel, {\n          type: FILTER_TYPES.dropdownSelector,\n          props: logisticsMapInspectionLevel\n        })))\n      };\n\n    default:\n      return {};\n  }\n});\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_objectSpread, \"_objectSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_toConsumableArray, \"_toConsumableArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_nonIterableSpread, \"_nonIterableSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_iterableToArray, \"_iterableToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_arrayWithoutHoles, \"_arrayWithoutHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_slicedToArray, \"_slicedToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_nonIterableRest, \"_nonIterableRest\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_iterableToArrayLimit, \"_iterableToArrayLimit\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(_arrayWithHoles, \"_arrayWithHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(insertIf, \"insertIf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getCurrentPage, \"getCurrentPage\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getSelectedContext, \"getSelectedContext\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getSelectedYears, \"getSelectedYears\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolSelectedResizeBy, \"getToolSelectedResizeBy\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolRecolorBy, \"getToolRecolorBy\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolSelectedBiome, \"getToolSelectedBiome\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getContextFilterBy, \"getContextFilterBy\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getAppTooltips, \"getAppTooltips\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolDetailedView, \"getToolDetailedView\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolResizeBys, \"getToolResizeBys\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolYearsProps, \"getToolYearsProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolAdminLevelProps, \"getToolAdminLevelProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolResizeByProps, \"getToolResizeByProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getToolViewModeProps, \"getToolViewModeProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getLogisticsMapYearsProps, \"getLogisticsMapYearsProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getLogisticsMapHubsProps, \"getLogisticsMapHubsProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getLogisticsMapInspectionLevelProps, \"getLogisticsMapInspectionLevelProps\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  reactHotLoader.register(getNavFilters, \"getNavFilters\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.selectors.js"],"names":["insertIf","condition","getCurrentPage","state","getSelectedContext","getSelectedYears","getToolSelectedResizeBy","getToolRecolorBy","getToolSelectedBiome","getContextFilterBy","getAppTooltips","getToolDetailedView","getToolResizeBys","getToolYearsProps","createSelector","availableContextYears","selectedContext","availableResizeByYears","selectedResizeBy","availableRecolorByYears","selectedRecolorBy","years","intersection","selectedYears","getToolAdminLevelProps","adminLevel","filterBy","label","id","listClassName","items","name","node","selectedFilter","selectedItem","getToolResizeByProps","isEnabled","resizeBy","difference","hasSeparator","list","index","isDisabled","tooltip","description","titleClassName","tooltips","titleTooltip","dropdownClassName","cx","getToolViewModeProps","i","item","getLogisticsMapYearsProps","activeParams","year","parseInt","getLogisticsMapHubsProps","commodity","getLogisticsMapInspectionLevelProps","level","getNavFilters","FILTER_TYPES","FiltersNav","showSearch","showToolLinks","left","type","props","toolAdminLevel","right","toolResizeBy","toolViewMode","showLogisticsMapDownload","logisticsMapsHubs","logisticsMapsYears","logisticsMapInspectionLevel"],"mappings":"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","sourcesContent":["import { createSelector } from 'reselect';\nimport intersection from 'lodash/intersection';\nimport sortBy from 'lodash/sortBy';\nimport cx from 'classnames';\nimport { getActiveParams } from 'react-components/logistics-map/logistics-map.selectors';\nimport {\n  LOGISTICS_MAP_YEARS,\n  LOGISTICS_MAP_HUBS,\n  LOGISTICS_MAP_INSPECTION_LEVELS\n} from 'constants';\nimport difference from 'lodash/difference';\nimport FiltersNav from 'react-components/nav/filters-nav/filters-nav.component';\n\nconst insertIf = (condition, item) => (condition ? [item] : []);\n\nconst getCurrentPage = state => state.location.type;\nconst getSelectedContext = state => state.app.selectedContext;\nconst getSelectedYears = state => state.app.selectedYears;\nconst getToolSelectedResizeBy = state => (state.tool ? state.tool.selectedResizeBy : {});\nconst getToolRecolorBy = state => (state.tool ? state.tool.selectedRecolorBy : {});\nconst getToolSelectedBiome = state => state.tool && state.tool.selectedBiomeFilter;\nconst getContextFilterBy = state => state.app.selectedContext && state.app.selectedContext.filterBy;\nconst getAppTooltips = state => state.app.tooltips;\nconst getToolDetailedView = state => state.tool && state.tool.detailedView;\nconst getToolResizeBys = state => state.app.selectedContext && state.app.selectedContext.resizeBy;\n\nexport const getToolYearsProps = createSelector(\n  [getSelectedYears, getToolSelectedResizeBy, getToolRecolorBy, getSelectedContext],\n  (selectedYears, selectedResizeBy, selectedRecolorBy, selectedContext) => {\n    const availableContextYears = selectedContext && selectedContext.years;\n    const availableResizeByYears =\n      selectedResizeBy.years && selectedResizeBy.years.length > 0\n        ? selectedResizeBy.years\n        : availableContextYears;\n    const availableRecolorByYears =\n      selectedRecolorBy.years && selectedRecolorBy.years.length > 0\n        ? selectedRecolorBy.years\n        : availableContextYears;\n\n    const years = intersection(\n      availableContextYears,\n      availableResizeByYears,\n      availableRecolorByYears\n    );\n\n    return { years, selectedYears };\n  }\n);\n\nexport const getToolAdminLevelProps = createSelector(\n  [getToolSelectedBiome, getContextFilterBy],\n  (selectedFilter, filterBy) => {\n    const [adminLevel] = filterBy || [];\n    if (!adminLevel) return null;\n    return {\n      label: adminLevel.name,\n      id: 'toolAdminLevel',\n      listClassName: '-medium',\n      items: [\n        { name: 'All', id: 'none' },\n        ...adminLevel.nodes\n          .filter(node => node.name !== (selectedFilter && selectedFilter.name))\n          .map(node => ({ ...node, id: node.name, name: `${node.name}`.toLowerCase() }))\n      ],\n      selectedItem:\n        typeof selectedFilter !== 'undefined' && selectedFilter.value !== 'none'\n          ? { ...selectedFilter, name: `${selectedFilter.name}`.toLowerCase() }\n          : { name: 'All' }\n    };\n  }\n);\n\nexport const getToolResizeByProps = createSelector(\n  [getAppTooltips, getToolResizeBys, getSelectedYears, getToolSelectedResizeBy],\n  (tooltips, resizeBys, selectedYears, selectedResizeBy) => {\n    const items = sortBy(resizeBys, ['groupNumber', 'position']).map((resizeBy, index, list) => {\n      const isEnabled =\n        !resizeBy.isDisabled &&\n        (resizeBy.years.length === 0 || difference(selectedYears, resizeBy.years).length === 0);\n\n      const hasSeparator = list[index - 1] && list[index - 1].groupNumber !== resizeBy.groupNumber;\n      return {\n        hasSeparator,\n        id: resizeBy.name,\n        name: resizeBy.label,\n        isDisabled: !isEnabled,\n        tooltip: resizeBy.description\n      };\n    });\n    return {\n      items,\n      label: 'Resize by',\n      id: 'toolResizeBy',\n      titleClassName: '-small',\n      listClassName: '-medium',\n      selectedItem: { name: selectedResizeBy.label || '' },\n      tooltip: tooltips && tooltips.sankey.nav.resizeBy.main,\n      titleTooltip: tooltips && tooltips.sankey.nav.resizeBy[selectedResizeBy.name],\n      dropdownClassName: cx('-small -capitalize', { '-hide-only-child': items.length <= 1 })\n    };\n  }\n);\n\nexport const getToolViewModeProps = createSelector(\n  [getAppTooltips, getToolDetailedView],\n  (tooltips, isDetailedView) => {\n    const items = [{ name: 'Summary', id: false }, { name: 'All Flows', id: true }];\n    return {\n      items: items.filter(i => i.id !== isDetailedView),\n      label: 'Change view',\n      id: 'toolViewMode',\n      tooltip: tooltips && tooltips.sankey.nav.view.main,\n      titleClassName: '-small',\n      dropdownClassName: '-capitalize -small',\n      selectedItem: items.find(item => item.id === isDetailedView)\n    };\n  }\n);\n\nconst getLogisticsMapYearsProps = createSelector(\n  [getActiveParams],\n  activeParams => ({\n    label: 'Year',\n    id: 'logisticsMapYear',\n    items: LOGISTICS_MAP_YEARS,\n    dropdownClassName: cx({ '-hide-only-child': activeParams.commodity !== 'soy' }),\n    selectedItem:\n      activeParams.commodity === 'soy'\n        ? LOGISTICS_MAP_YEARS.find(year => year.id === parseInt(activeParams.year, 10))\n        : { name: '2012 – 2017' }\n  })\n);\n\nconst getLogisticsMapHubsProps = createSelector(\n  [getActiveParams],\n  activeParams => ({\n    label: 'Logistics Hub',\n    id: 'logisticsMapHub',\n    items: LOGISTICS_MAP_HUBS,\n    selectedItem: LOGISTICS_MAP_HUBS.find(commodity => commodity.id === activeParams.commodity)\n  })\n);\n\nconst getLogisticsMapInspectionLevelProps = createSelector(\n  [getActiveParams],\n  activeParams => {\n    if (activeParams.commodity === 'soy') {\n      return null;\n    }\n\n    return {\n      label: 'Inspection Level',\n      id: 'logisticsMapInspectionLevel',\n      dropdownClassName: '',\n      items: [{ name: 'All' }, ...LOGISTICS_MAP_INSPECTION_LEVELS],\n      selectedItem: LOGISTICS_MAP_INSPECTION_LEVELS.find(\n        level => level.id === activeParams.inspection\n      ) || { name: 'All' }\n    };\n  }\n);\n\nexport const getNavFilters = createSelector(\n  [\n    getCurrentPage,\n    getSelectedContext,\n    getToolAdminLevelProps,\n    getToolResizeByProps,\n    getToolViewModeProps,\n    getLogisticsMapYearsProps,\n    getLogisticsMapHubsProps,\n    getLogisticsMapInspectionLevelProps\n  ],\n  (\n    page,\n    selectedContext,\n    toolAdminLevel,\n    toolResizeBy,\n    toolViewMode,\n    logisticsMapsYears,\n    logisticsMapsHubs,\n    logisticsMapInspectionLevel\n  ) => {\n    const { FILTER_TYPES } = FiltersNav;\n    switch (page) {\n      case 'tool':\n        return {\n          showSearch: true,\n          showToolLinks: true,\n          left: [\n            {\n              type: FILTER_TYPES.contextSelector,\n              props: { selectedContext, id: 'contextSelector' }\n            },\n            ...insertIf(toolAdminLevel, {\n              type: FILTER_TYPES.dropdownSelector,\n              props: toolAdminLevel\n            }),\n            {\n              type: FILTER_TYPES.yearSelector,\n              props: { id: 'yearsSelector' }\n            }\n          ],\n          right: [\n            { type: FILTER_TYPES.dropdownSelector, props: toolResizeBy },\n            { type: FILTER_TYPES.recolorBySelector, props: { id: 'toolRecolorBy' } },\n            { type: FILTER_TYPES.dropdownSelector, props: toolViewMode }\n          ]\n        };\n      case 'logisticsMap':\n        return {\n          showLogisticsMapDownload: true,\n          left: [\n            { type: FILTER_TYPES.dropdownSelector, props: logisticsMapsHubs },\n            { type: FILTER_TYPES.dropdownSelector, props: logisticsMapsYears },\n            ...insertIf(logisticsMapInspectionLevel, {\n              type: FILTER_TYPES.dropdownSelector,\n              props: logisticsMapInspectionLevel\n            })\n          ]\n        };\n      default:\n        return {};\n    }\n  }\n);\n"]}]}
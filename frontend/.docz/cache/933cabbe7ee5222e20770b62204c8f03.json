{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js","mtime":1548424841363},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { getURLFromParams, POST_SUBSCRIBE_NEWSLETTER_URL } from 'utils/getURLFromParams';\nexport var NEWSLETTER__SET_SUBSCRIPTION_MESSAGE = 'NEWSLETTER__SET_SUBSCRIPTION_MESSAGE';\nexport var NEWSLETTER__RESET_NEWSLETTER = 'NEWSLETTER__RESET_NEWSLETTER';\nexport var sendSubscriptionEmail = function sendSubscriptionEmail(email) {\n  return function (dispatch) {\n    var body = new FormData();\n    body.append('email', email);\n    var url = getURLFromParams(POST_SUBSCRIBE_NEWSLETTER_URL);\n    return fetch(url, {\n      method: 'POST',\n      body: body\n    }).then(function (res) {\n      return res.ok ? res.json() : Promise.reject(res.statusText);\n    }).then(function (data) {\n      if (data.error) return Promise.reject(new Error(data.error));\n      return Promise.resolve('Subscription successful');\n    }).then(function (message) {\n      return dispatch({\n        type: NEWSLETTER__SET_SUBSCRIPTION_MESSAGE,\n        payload: {\n          message: message\n        }\n      });\n    }).catch(function (error) {\n      return dispatch({\n        type: NEWSLETTER__SET_SUBSCRIPTION_MESSAGE,\n        payload: {\n          message: \"Error: \".concat(error)\n        }\n      });\n    });\n  };\n};\nexport var resetNewsletter = function resetNewsletter() {\n  return {\n    type: NEWSLETTER__RESET_NEWSLETTER\n  };\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(NEWSLETTER__SET_SUBSCRIPTION_MESSAGE, \"NEWSLETTER__SET_SUBSCRIPTION_MESSAGE\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js\");\n  reactHotLoader.register(NEWSLETTER__RESET_NEWSLETTER, \"NEWSLETTER__RESET_NEWSLETTER\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js\");\n  reactHotLoader.register(sendSubscriptionEmail, \"sendSubscriptionEmail\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js\");\n  reactHotLoader.register(resetNewsletter, \"resetNewsletter\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/shared/newsletter/newsletter.actions.js"],"names":["NEWSLETTER__SET_SUBSCRIPTION_MESSAGE","NEWSLETTER__RESET_NEWSLETTER","sendSubscriptionEmail","body","url","getURLFromParams","method","res","Promise","data","dispatch","type","payload","message","resetNewsletter"],"mappings":";;;;;;AAAA,SAAA,gBAAA,EAAA,6BAAA,QAAA,wBAAA;AAEA,OAAO,IAAMA,oCAAoC,GAA1C,sCAAA;AACP,OAAO,IAAMC,4BAA4B,GAAlC,8BAAA;AAEP,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAA,KAAA,EAAK;AAAA,SAAI,UAAA,QAAA,EAAY;AACxD,QAAMC,IAAI,GAAG,IAAb,QAAa,EAAb;AACAA,IAAAA,IAAI,CAAJA,MAAAA,CAAAA,OAAAA,EAAAA,KAAAA;AAEA,QAAMC,GAAG,GAAGC,gBAAgB,CAA5B,6BAA4B,CAA5B;AACA,WAAO,KAAK,CAAA,GAAA,EAAM;AAChBC,MAAAA,MAAM,EADU,MAAA;AAEhBH,MAAAA,IAAI,EAAJA;AAFgB,KAAN,CAAL,CAAA,IAAA,CAIC,UAAA,GAAA,EAAG;AAAA,aAAKI,GAAG,CAAHA,EAAAA,GAASA,GAAG,CAAZA,IAASA,EAATA,GAAsBC,OAAO,CAAPA,MAAAA,CAAeD,GAAG,CAA7C,UAA2BC,CAA3B;AAJJ,KAAA,EAAA,IAAA,CAKC,UAAA,IAAA,EAAQ;AACZ,UAAIC,IAAI,CAAR,KAAA,EAAgB,OAAOD,OAAO,CAAPA,MAAAA,CAAe,IAAA,KAAA,CAAUC,IAAI,CAApC,KAAsB,CAAfD,CAAP;AAChB,aAAOA,OAAO,CAAPA,OAAAA,CAAP,yBAAOA,CAAP;AAPG,KAAA,EAAA,IAAA,CASC,UAAA,OAAA,EAAO;AAAA,aACXE,QAAQ,CAAC;AACPC,QAAAA,IAAI,EADG,oCAAA;AAEPC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAPA;AAAF;AAFF,OAAD,CADG;AATR,KAAA,EAAA,KAAA,CAeE,UAAA,KAAA,EAAK;AAAA,aACVH,QAAQ,CAAC;AACPC,QAAAA,IAAI,EADG,oCAAA;AAEPC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,OAAO,EAAA,UAAA,MAAA,CAAA,KAAA;AAAT;AAFF,OAAD,CADE;AAfd,KAAO,CAAP;AALwC,GAAA;AAAnC,CAAA;AA4BP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAA;AAAA,SAAO;AACpCH,IAAAA,IAAI,EAAEV;AAD8B,GAAP;AAAxB,CAAA;;;;;;;;;;;;0BA/BMD,oC;0BACAC,4B;0BAEAC,qB;0BA4BAY,e","sourcesContent":["import { getURLFromParams, POST_SUBSCRIBE_NEWSLETTER_URL } from 'utils/getURLFromParams';\n\nexport const NEWSLETTER__SET_SUBSCRIPTION_MESSAGE = 'NEWSLETTER__SET_SUBSCRIPTION_MESSAGE';\nexport const NEWSLETTER__RESET_NEWSLETTER = 'NEWSLETTER__RESET_NEWSLETTER';\n\nexport const sendSubscriptionEmail = email => dispatch => {\n  const body = new FormData();\n  body.append('email', email);\n\n  const url = getURLFromParams(POST_SUBSCRIBE_NEWSLETTER_URL);\n  return fetch(url, {\n    method: 'POST',\n    body\n  })\n    .then(res => (res.ok ? res.json() : Promise.reject(res.statusText)))\n    .then(data => {\n      if (data.error) return Promise.reject(new Error(data.error));\n      return Promise.resolve('Subscription successful');\n    })\n    .then(message =>\n      dispatch({\n        type: NEWSLETTER__SET_SUBSCRIPTION_MESSAGE,\n        payload: { message }\n      })\n    )\n    .catch(error =>\n      dispatch({\n        type: NEWSLETTER__SET_SUBSCRIPTION_MESSAGE,\n        payload: { message: `Error: ${error}` }\n      })\n    );\n};\n\nexport const resetNewsletter = () => ({\n  type: NEWSLETTER__RESET_NEWSLETTER\n});\n"]}]}
{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/explore/explore.thunks.js","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/explore/explore.thunks.js","mtime":1548345115534},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { redirect } from 'redux-first-router';\nexport var redirectToExplore = function redirectToExplore(dispatch, getState, _ref) {\n  var action = _ref.action;\n  var type = getState().location.type;\n  var toolPages = ['tool', 'map'];\n  var previouslyVisitedExplorePage = {\n    key: 'previouslyVisitedExplorePage__TRASE_EARTH',\n    get: function get() {\n      return localStorage.getItem(this.key);\n    },\n    set: function set(key) {\n      return localStorage.setItem(this.key, key);\n    }\n  };\n  var urlHasSankeyState = !!(action.meta && action.meta.query && action.meta.query.selectedContextId);\n\n  if (toolPages.includes(action.type)) {\n    if (!previouslyVisitedExplorePage.get() && !urlHasSankeyState) {\n      previouslyVisitedExplorePage.set(Date.now());\n      var redirectQuery = action.payload && action.payload.query && action.payload.query.state;\n      dispatch(redirect({\n        type: 'explore',\n        payload: {\n          query: redirectQuery\n        }\n      }));\n    }\n  } else if (type === 'explore') {\n    previouslyVisitedExplorePage.set(Date.now());\n  }\n};\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(redirectToExplore, \"redirectToExplore\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/explore/explore.thunks.js\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/explore/explore.thunks.js"],"names":["redirectToExplore","action","type","getState","toolPages","previouslyVisitedExplorePage","key","get","localStorage","set","urlHasSankeyState","Date","redirectQuery","dispatch","redirect","payload","query"],"mappings":";;;;;;AAAA,SAAA,QAAA,QAAA,oBAAA;AAEA,OAAO,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAAA,QAAA,EAAA,QAAA,EAAA,IAAA,EAAoC;AAAA,MAAbC,MAAa,GAAA,IAAA,CAAbA,MAAa;AAAA,MAC3DC,IAD2D,GAClDC,QAAQ,GAD0C,QAClDA,CADkD,IAAA;AAEnE,MAAMC,SAAS,GAAG,CAAA,MAAA,EAAlB,KAAkB,CAAlB;AACA,MAAMC,4BAA4B,GAAG;AACnCC,IAAAA,GAAG,EADgC,2CAAA;AAEnCC,IAAAA,GAFmC,EAAA,SAAA,GAAA,GAE7B;AACJ,aAAOC,YAAY,CAAZA,OAAAA,CAAqB,KAA5B,GAAOA,CAAP;AAHiC,KAAA;AAKnCC,IAAAA,GALmC,EAAA,SAAA,GAAA,CAAA,GAAA,EAK1B;AACP,aAAOD,YAAY,CAAZA,OAAAA,CAAqB,KAArBA,GAAAA,EAAP,GAAOA,CAAP;AACD;AAPkC,GAArC;AAUA,MAAME,iBAAiB,GAAG,CAAC,EACzBT,MAAM,CAANA,IAAAA,IACAA,MAAM,CAANA,IAAAA,CADAA,KAAAA,IAEAA,MAAM,CAANA,IAAAA,CAAAA,KAAAA,CAHF,iBAA2B,CAA3B;;AAMA,MAAIG,SAAS,CAATA,QAAAA,CAAmBH,MAAM,CAA7B,IAAIG,CAAJ,EAAqC;AACnC,QAAI,CAACC,4BAA4B,CAA7B,GAACA,EAAD,IAAuC,CAA3C,iBAAA,EAA+D;AAC7DA,MAAAA,4BAA4B,CAA5BA,GAAAA,CAAiCM,IAAI,CAArCN,GAAiCM,EAAjCN;AACA,UAAMO,aAAa,GAAGX,MAAM,CAANA,OAAAA,IAAkBA,MAAM,CAANA,OAAAA,CAAlBA,KAAAA,IAA0CA,MAAM,CAANA,OAAAA,CAAAA,KAAAA,CAAhE,KAAA;AACAY,MAAAA,QAAQ,CAACC,QAAQ,CAAC;AAAEZ,QAAAA,IAAI,EAAN,SAAA;AAAmBa,QAAAA,OAAO,EAAE;AAAEC,UAAAA,KAAK,EAAEJ;AAAT;AAA5B,OAAD,CAAT,CAARC;AACD;AALH,GAAA,MAMO,IAAIX,IAAI,KAAR,SAAA,EAAwB;AAC7BG,IAAAA,4BAA4B,CAA5BA,GAAAA,CAAiCM,IAAI,CAArCN,GAAiCM,EAAjCN;AACD;AA3BI,CAAA;;;;;;;;;;;;0BAAML,iB","sourcesContent":["import { redirect } from 'redux-first-router';\n\nexport const redirectToExplore = (dispatch, getState, { action }) => {\n  const { type } = getState().location;\n  const toolPages = ['tool', 'map'];\n  const previouslyVisitedExplorePage = {\n    key: 'previouslyVisitedExplorePage__TRASE_EARTH',\n    get() {\n      return localStorage.getItem(this.key);\n    },\n    set(key) {\n      return localStorage.setItem(this.key, key);\n    }\n  };\n\n  const urlHasSankeyState = !!(\n    action.meta &&\n    action.meta.query &&\n    action.meta.query.selectedContextId\n  );\n\n  if (toolPages.includes(action.type)) {\n    if (!previouslyVisitedExplorePage.get() && !urlHasSankeyState) {\n      previouslyVisitedExplorePage.set(Date.now());\n      const redirectQuery = action.payload && action.payload.query && action.payload.query.state;\n      dispatch(redirect({ type: 'explore', payload: { query: redirectQuery } }));\n    }\n  } else if (type === 'explore') {\n    previouslyVisitedExplorePage.set(Date.now());\n  }\n};\n"]}]}
{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx","mtime":1548345115573},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport throttle from 'lodash/throttle';\nimport { NavLink } from 'redux-first-router-link';\nimport NavLinks from 'react-components/nav/nav-links.component';\nimport LocaleSelector from 'react-components/nav/locale-selector/locale-selector.container';\nimport Search from 'react-components/nav/global-search/global-search.container';\nimport DownloadPdfLink from './download-pdf-link.component';\nimport 'scripts/react-components/nav/top-nav/top-nav.scss';\n\nvar TopNav =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(TopNav, _React$PureComponent);\n\n  function TopNav(props) {\n    var _this;\n\n    _classCallCheck(this, TopNav);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TopNav).call(this, props));\n    _this.state = {\n      backgroundVisible: false,\n      menuOpen: false\n    };\n    _this.navLinkProps = {\n      exact: false,\n      strict: false,\n      isActive: null\n    };\n    _this.setBackground = throttle(_this.setBackground.bind(_assertThisInitialized(_assertThisInitialized(_this))), 300);\n    _this.handleToggleClick = _this.handleToggleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    window.addEventListener('scroll', _this.setBackground, {\n      passive: true\n    });\n    return _this;\n  }\n\n  _createClass(TopNav, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setBackground.cancel();\n      window.removeEventListener('scroll', this.setBackground);\n    }\n  }, {\n    key: \"setBackground\",\n    value: function setBackground() {\n      var pageOffset = this.props.pageOffset;\n      var backgroundVisible = this.state.backgroundVisible;\n      var hasOffset = typeof pageOffset !== 'undefined';\n\n      if (hasOffset && window.pageYOffset > pageOffset && !backgroundVisible) {\n        this.setState({\n          backgroundVisible: true\n        });\n      } else if (hasOffset && window.pageYOffset <= pageOffset && backgroundVisible) {\n        this.setState({\n          backgroundVisible: false\n        });\n      }\n    }\n  }, {\n    key: \"handleToggleClick\",\n    value: function handleToggleClick() {\n      this.setState(function (state) {\n        return {\n          menuOpen: !state.menuOpen\n        };\n      });\n    }\n  }, {\n    key: \"renderDesktopMenu\",\n    value: function renderDesktopMenu() {\n      var _this$props = this.props,\n          links = _this$props.links,\n          printable = _this$props.printable,\n          showLogo = _this$props.showLogo;\n      var allLinks = [];\n\n      if (showLogo) {\n        allLinks.push({\n          name: 'Home',\n          page: 'home',\n          linkClassName: 'top-nav-link -logo',\n          linkActiveClassName: 'top-nav-link -logo',\n          children: React.createElement(\"img\", {\n            src: \"/images/logos/logo-trase-nav.png\",\n            alt: \"trase\"\n          })\n        });\n      }\n\n      allLinks.push.apply(allLinks, _toConsumableArray(links));\n      return React.createElement(\"div\", {\n        className: \"top-nav-bar row align-justify -desktop-menu\"\n      }, React.createElement(\"div\", {\n        className: \"column medium-8\"\n      }, React.createElement(\"div\", {\n        className: \"top-nav-item-list-container\"\n      }, React.createElement(\"ul\", {\n        className: \"top-nav-item-list\"\n      }, React.createElement(NavLinks, {\n        links: allLinks,\n        itemClassName: \"top-nav-item\",\n        linkClassName: \"top-nav-link\",\n        linkActiveClassName: \"top-nav-link -active\",\n        navLinkProps: this.navLinkProps\n      })))), React.createElement(\"div\", {\n        className: \"column medium-2\"\n      }, React.createElement(\"div\", {\n        className: \"top-nav-item-list-container -flex-end\"\n      }, React.createElement(\"ul\", {\n        className: \"top-nav-item-list\"\n      }, React.createElement(\"li\", {\n        className: \"top-nav-item\"\n      }, React.createElement(LocaleSelector, null)), React.createElement(\"li\", {\n        className: \"top-nav-item\"\n      }, React.createElement(Search, {\n        className: \"top-nav-search\"\n      })), printable && React.createElement(\"li\", {\n        className: \"top-nav-item\"\n      }, React.createElement(DownloadPdfLink, null))))));\n    }\n  }, {\n    key: \"renderMobileMenu\",\n    value: function renderMobileMenu() {\n      var _this$props2 = this.props,\n          links = _this$props2.links,\n          showLogo = _this$props2.showLogo;\n      var menuOpen = this.state.menuOpen;\n      var toggleBtnIcon = menuOpen ? 'close' : 'menu';\n      var allLinks = [];\n      allLinks.push.apply(allLinks, _toConsumableArray(links));\n      return React.createElement(\"div\", {\n        className: \"row -mobile-menu\"\n      }, React.createElement(\"div\", {\n        className: \"top-nav-bar column small-12\"\n      }, React.createElement(\"ul\", {\n        className: \"top-nav-item-list\"\n      }, React.createElement(\"li\", {\n        className: \"top-nav-item -no-margin\"\n      }, React.createElement(NavLink, {\n        exact: true,\n        strict: true,\n        to: {\n          type: 'home'\n        },\n        className: cx('top-nav-link', '-logo', {\n          '-hide-when-on-top': !showLogo\n        })\n      }, React.createElement(\"img\", {\n        src: \"/images/logos/logo-trase-nav.png\",\n        alt: \"trase\"\n      }))), React.createElement(\"li\", {\n        className: \"top-nav-item -no-margin\"\n      }, React.createElement(\"button\", {\n        className: \"top-nav-toggle-btn\",\n        onClick: this.handleToggleClick\n      }, React.createElement(\"svg\", {\n        className: \"icon icon-\".concat(toggleBtnIcon)\n      }, React.createElement(\"use\", {\n        xlinkHref: \"#icon-\".concat(toggleBtnIcon)\n      })))))), menuOpen && React.createElement(\"div\", {\n        className: \"top-nav-collapse column small-12\"\n      }, React.createElement(\"ul\", {\n        className: \"top-nav-item-list-collapse\"\n      }, React.createElement(NavLinks, {\n        links: allLinks,\n        itemClassName: \"top-nav-item-collapse\",\n        linkClassName: \"top-nav-link-collapse\",\n        linkActiveClassName: \"top-nav-link-collapse -active\",\n        navLinkProps: this.navLinkProps\n      }), React.createElement(\"li\", {\n        className: \"top-nav-item-collapse\"\n      }, React.createElement(LocaleSelector, null)))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.props.className;\n      var _this$state = this.state,\n          backgroundVisible = _this$state.backgroundVisible,\n          menuOpen = _this$state.menuOpen;\n      return React.createElement(\"div\", {\n        className: cx('c-nav', {\n          '-has-background': backgroundVisible || menuOpen\n        }, className)\n      }, this.renderDesktopMenu(), this.renderMobileMenu());\n    }\n  }]);\n\n  return TopNav;\n}(React.PureComponent);\n\nTopNav.propTypes = {\n  links: PropTypes.array,\n  showLogo: PropTypes.bool,\n  printable: PropTypes.bool,\n  className: PropTypes.string,\n  pageOffset: PropTypes.number\n};\nTopNav.defaultProps = {\n  pageOffset: 0\n};\nvar _default = TopNav;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_toConsumableArray, \"_toConsumableArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_nonIterableSpread, \"_nonIterableSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_iterableToArray, \"_iterableToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_arrayWithoutHoles, \"_arrayWithoutHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(TopNav, \"TopNav\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/top-nav/top-nav.component.jsx"],"names":["TopNav","React","PureComponent","backgroundVisible","menuOpen","exact","strict","isActive","throttle","window","passive","pageOffset","hasOffset","state","links","printable","showLogo","allLinks","name","page","linkClassName","linkActiveClassName","children","navLinkProps","toggleBtnIcon","type","cx","handleToggleClick","className","PropTypes","number"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport throttle from 'lodash/throttle';\nimport { NavLink } from 'redux-first-router-link';\nimport NavLinks from 'react-components/nav/nav-links.component';\nimport LocaleSelector from 'react-components/nav/locale-selector/locale-selector.container';\nimport Search from 'react-components/nav/global-search/global-search.container';\nimport DownloadPdfLink from './download-pdf-link.component';\n\nimport 'scripts/react-components/nav/top-nav/top-nav.scss';\n\nclass TopNav extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      backgroundVisible: false,\n      menuOpen: false\n    };\n    this.navLinkProps = {\n      exact: false,\n      strict: false,\n      isActive: null\n    };\n    this.setBackground = throttle(this.setBackground.bind(this), 300);\n    this.handleToggleClick = this.handleToggleClick.bind(this);\n    window.addEventListener('scroll', this.setBackground, { passive: true });\n  }\n\n  componentWillUnmount() {\n    this.setBackground.cancel();\n    window.removeEventListener('scroll', this.setBackground);\n  }\n\n  setBackground() {\n    const { pageOffset } = this.props;\n    const { backgroundVisible } = this.state;\n    const hasOffset = typeof pageOffset !== 'undefined';\n    if (hasOffset && window.pageYOffset > pageOffset && !backgroundVisible) {\n      this.setState({ backgroundVisible: true });\n    } else if (hasOffset && window.pageYOffset <= pageOffset && backgroundVisible) {\n      this.setState({ backgroundVisible: false });\n    }\n  }\n\n  handleToggleClick() {\n    this.setState(state => ({ menuOpen: !state.menuOpen }));\n  }\n\n  renderDesktopMenu() {\n    const { links, printable, showLogo } = this.props;\n    const allLinks = [];\n\n    if (showLogo) {\n      allLinks.push({\n        name: 'Home',\n        page: 'home',\n        linkClassName: 'top-nav-link -logo',\n        linkActiveClassName: 'top-nav-link -logo',\n        children: <img src=\"/images/logos/logo-trase-nav.png\" alt=\"trase\" />\n      });\n    }\n\n    allLinks.push(...links);\n\n    return (\n      <div className=\"top-nav-bar row align-justify -desktop-menu\">\n        <div className=\"column medium-8\">\n          <div className=\"top-nav-item-list-container\">\n            <ul className=\"top-nav-item-list\">\n              <NavLinks\n                links={allLinks}\n                itemClassName=\"top-nav-item\"\n                linkClassName=\"top-nav-link\"\n                linkActiveClassName=\"top-nav-link -active\"\n                navLinkProps={this.navLinkProps}\n              />\n            </ul>\n          </div>\n        </div>\n        <div className=\"column medium-2\">\n          <div className=\"top-nav-item-list-container -flex-end\">\n            <ul className=\"top-nav-item-list\">\n              <li className=\"top-nav-item\">\n                <LocaleSelector />\n              </li>\n              <li className=\"top-nav-item\">\n                <Search className=\"top-nav-search\" />\n              </li>\n              {printable && (\n                <li className=\"top-nav-item\">\n                  <DownloadPdfLink />\n                </li>\n              )}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderMobileMenu() {\n    const { links, showLogo } = this.props;\n    const { menuOpen } = this.state;\n\n    const toggleBtnIcon = menuOpen ? 'close' : 'menu';\n\n    const allLinks = [];\n\n    allLinks.push(...links);\n\n    return (\n      <div className=\"row -mobile-menu\">\n        <div className=\"top-nav-bar column small-12\">\n          <ul className=\"top-nav-item-list\">\n            <li className=\"top-nav-item -no-margin\">\n              <NavLink\n                exact\n                strict\n                to={{ type: 'home' }}\n                className={cx('top-nav-link', '-logo', { '-hide-when-on-top': !showLogo })}\n              >\n                <img src=\"/images/logos/logo-trase-nav.png\" alt=\"trase\" />\n              </NavLink>\n            </li>\n            <li className=\"top-nav-item -no-margin\">\n              <button className=\"top-nav-toggle-btn\" onClick={this.handleToggleClick}>\n                <svg className={`icon icon-${toggleBtnIcon}`}>\n                  <use xlinkHref={`#icon-${toggleBtnIcon}`} />\n                </svg>\n              </button>\n            </li>\n          </ul>\n        </div>\n        {menuOpen && (\n          <div className=\"top-nav-collapse column small-12\">\n            <ul className=\"top-nav-item-list-collapse\">\n              <NavLinks\n                links={allLinks}\n                itemClassName=\"top-nav-item-collapse\"\n                linkClassName=\"top-nav-link-collapse\"\n                linkActiveClassName=\"top-nav-link-collapse -active\"\n                navLinkProps={this.navLinkProps}\n              />\n              <li className=\"top-nav-item-collapse\">\n                <LocaleSelector />\n              </li>\n            </ul>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { className } = this.props;\n    const { backgroundVisible, menuOpen } = this.state;\n\n    return (\n      <div className={cx('c-nav', { '-has-background': backgroundVisible || menuOpen }, className)}>\n        {this.renderDesktopMenu()}\n        {this.renderMobileMenu()}\n      </div>\n    );\n  }\n}\n\nTopNav.propTypes = {\n  links: PropTypes.array,\n  showLogo: PropTypes.bool,\n  printable: PropTypes.bool,\n  className: PropTypes.string,\n  pageOffset: PropTypes.number\n};\n\nTopNav.defaultProps = {\n  pageOffset: 0\n};\n\nexport default TopNav;\n"]}]}
{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx","mtime":1548345115564},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n/* eslint-disable jsx-a11y/mouse-events-have-key-events, jsx-a11y/no-static-element-interactions, react/no-unused-prop-types */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport range from 'lodash/range';\nimport FiltersDropdown from 'react-components/nav/filters-nav/filters-dropdown.component';\nimport 'styles/components/tool/years-selector.scss';\n\nvar YearsSelector =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(YearsSelector, _Component);\n\n  function YearsSelector(props) {\n    var _this;\n\n    _classCallCheck(this, YearsSelector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(YearsSelector).call(this, props));\n    _this.state = _objectSpread({}, _this.getStateFromProps(_this.props), {\n      hovered: null\n    });\n    _this.setActive = _this.setActive.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setHovered = _this.setHovered.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getClassName = _this.getClassName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(YearsSelector, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(props) {\n      this.setState(this.getStateFromProps(props));\n    }\n  }, {\n    key: \"getStateFromProps\",\n    value: function getStateFromProps(_ref) {\n      var selectedYears = _ref.selectedYears;\n\n      var _selectedYears = _slicedToArray(selectedYears, 2),\n          start = _selectedYears[0],\n          end = _selectedYears[1];\n\n      return {\n        start: start,\n        end: end\n      };\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(year) {\n      var _this$state = this.state,\n          start = _this$state.start,\n          end = _this$state.end;\n      var _this$props = this.props,\n          onSelected = _this$props.onSelected,\n          onToggle = _this$props.onToggle,\n          id = _this$props.id;\n\n      if (end !== null) {\n        this.setState({\n          start: year,\n          end: null\n        });\n      } else {\n        var newStart = Math.min(start, year);\n        var newEnd = Math.max(start, year);\n        this.setState({\n          start: newStart,\n          end: newEnd\n        });\n        onSelected([newStart, newEnd]);\n        onToggle(id);\n      }\n    }\n  }, {\n    key: \"setHovered\",\n    value: function setHovered(year) {\n      this.setState({\n        hovered: year\n      });\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName(year) {\n      var _this$state2 = this.state,\n          start = _this$state2.start,\n          end = _this$state2.end,\n          hovered = _this$state2.hovered;\n\n      var _sort = [start || hovered, end || hovered].sort(),\n          _sort2 = _slicedToArray(_sort, 2),\n          startYear = _sort2[0],\n          endYear = _sort2[1];\n\n      var classes = [];\n\n      if (range(startYear, (endYear || startYear) + 1).includes(year)) {\n        classes.push('active');\n      }\n\n      if (year === startYear) {\n        classes.push('start');\n      }\n\n      if (year === endYear) {\n        classes.push('end');\n      }\n\n      return classes.join(' ');\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter() {\n      var end = this.state.end;\n      var text = 'Select one or more year(s)';\n      if (!end) text = 'Select an end year';\n      return React.createElement(\"div\", {\n        className: \"years-selector-footer\"\n      }, React.createElement(\"p\", null, text));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          className = _this$props2.className,\n          dropdownClassName = _this$props2.dropdownClassName,\n          currentDropdown = _this$props2.currentDropdown,\n          years = _this$props2.years,\n          selectedYears = _this$props2.selectedYears,\n          onToggle = _this$props2.onToggle;\n\n      var _selectedYears2 = _slicedToArray(selectedYears, 2),\n          selectedStart = _selectedYears2[0],\n          selectedEnd = _selectedYears2[1];\n\n      var _this$state3 = this.state,\n          start = _this$state3.start,\n          end = _this$state3.end;\n      var isOneYearSelected = selectedStart === selectedEnd;\n      var isSelected = start && end;\n      var title = isOneYearSelected ? React.createElement(\"span\", null, selectedStart) : React.createElement(\"span\", null, selectedStart, \"\\u2009-\\u2009\", selectedEnd);\n      return React.createElement(\"div\", {\n        className: cx('js-dropdown', className),\n        onClick: function onClick() {\n          return onToggle(id);\n        }\n      }, React.createElement(\"div\", {\n        className: cx('c-dropdown', dropdownClassName)\n      }, React.createElement(\"span\", {\n        className: \"dropdown-label\"\n      }, \"year\", !isOneYearSelected && React.createElement(\"span\", null, \"s\")), React.createElement(\"span\", {\n        className: \"dropdown-title\"\n      }, title), React.createElement(FiltersDropdown, {\n        id: id,\n        currentDropdown: currentDropdown,\n        onClickOutside: onToggle\n      }, React.createElement(\"div\", {\n        className: \"dropdown-list\",\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        }\n      }, React.createElement(\"div\", {\n        className: cx('c-years-selector', isSelected ? 'selected' : 'selecting')\n      }, React.createElement(\"div\", {\n        className: \"years-selector-content\"\n      }, years.map(function (year) {\n        return React.createElement(\"div\", {\n          key: year,\n          onClick: function onClick() {\n            return _this2.setActive(year);\n          },\n          onMouseOut: _this2.clearHovered,\n          onMouseOver: function onMouseOver() {\n            return _this2.setHovered(year);\n          },\n          className: cx('button', _this2.getClassName(year))\n        }, React.createElement(\"div\", {\n          className: \"unrotate\"\n        }, React.createElement(\"div\", {\n          className: \"fill\"\n        }, React.createElement(\"span\", null, year))));\n      })), this.renderFooter())))));\n    }\n  }]);\n\n  return YearsSelector;\n}(Component);\n\nYearsSelector.propTypes = {\n  id: PropTypes.string,\n  years: PropTypes.array,\n  onToggle: PropTypes.func,\n  onSelected: PropTypes.func,\n  className: PropTypes.string,\n  selectedYears: PropTypes.array,\n  currentDropdown: PropTypes.string,\n  dropdownClassName: PropTypes.string\n};\nvar _default = YearsSelector;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_slicedToArray, \"_slicedToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_nonIterableRest, \"_nonIterableRest\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_iterableToArrayLimit, \"_iterableToArrayLimit\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_arrayWithHoles, \"_arrayWithHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_objectSpread, \"_objectSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(YearsSelector, \"YearsSelector\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/years-selector/years-selector.component.jsx"],"names":["YearsSelector","Component","hovered","props","selectedYears","start","end","year","onSelected","onToggle","id","newStart","Math","newEnd","startYear","endYear","classes","range","text","className","dropdownClassName","currentDropdown","years","selectedStart","selectedEnd","isOneYearSelected","isSelected","title","cx","e","PropTypes","string"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/mouse-events-have-key-events, jsx-a11y/no-static-element-interactions, react/no-unused-prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport range from 'lodash/range';\n\nimport FiltersDropdown from 'react-components/nav/filters-nav/filters-dropdown.component';\n\nimport 'styles/components/tool/years-selector.scss';\n\nclass YearsSelector extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...this.getStateFromProps(this.props),\n      hovered: null\n    };\n\n    this.setActive = this.setActive.bind(this);\n    this.setHovered = this.setHovered.bind(this);\n    this.getClassName = this.getClassName.bind(this);\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState(this.getStateFromProps(props));\n  }\n\n  getStateFromProps({ selectedYears }) {\n    const [start, end] = selectedYears;\n\n    return {\n      start,\n      end\n    };\n  }\n\n  setActive(year) {\n    const { start, end } = this.state;\n    const { onSelected, onToggle, id } = this.props;\n\n    if (end !== null) {\n      this.setState({ start: year, end: null });\n    } else {\n      const newStart = Math.min(start, year);\n      const newEnd = Math.max(start, year);\n      this.setState({ start: newStart, end: newEnd });\n      onSelected([newStart, newEnd]);\n      onToggle(id);\n    }\n  }\n\n  setHovered(year) {\n    this.setState({ hovered: year });\n  }\n\n  getClassName(year) {\n    const { start, end, hovered } = this.state;\n\n    const [startYear, endYear] = [start || hovered, end || hovered].sort();\n    const classes = [];\n\n    if (range(startYear, (endYear || startYear) + 1).includes(year)) {\n      classes.push('active');\n    }\n    if (year === startYear) {\n      classes.push('start');\n    }\n    if (year === endYear) {\n      classes.push('end');\n    }\n\n    return classes.join(' ');\n  }\n\n  renderFooter() {\n    const { end } = this.state;\n\n    let text = 'Select one or more year(s)';\n\n    if (!end) text = 'Select an end year';\n\n    return (\n      <div className=\"years-selector-footer\">\n        <p>{text}</p>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      id,\n      className,\n      dropdownClassName,\n      currentDropdown,\n      years,\n      selectedYears,\n      onToggle\n    } = this.props;\n    const [selectedStart, selectedEnd] = selectedYears;\n    const { start, end } = this.state;\n    const isOneYearSelected = selectedStart === selectedEnd;\n    const isSelected = start && end;\n    const title = isOneYearSelected ? (\n      <span>{selectedStart}</span>\n    ) : (\n      <span>\n        {selectedStart}&thinsp;-&thinsp;{selectedEnd}\n      </span>\n    );\n\n    return (\n      <div className={cx('js-dropdown', className)} onClick={() => onToggle(id)}>\n        <div className={cx('c-dropdown', dropdownClassName)}>\n          <span className=\"dropdown-label\">year{!isOneYearSelected && <span>s</span>}</span>\n          <span className=\"dropdown-title\">{title}</span>\n          <FiltersDropdown id={id} currentDropdown={currentDropdown} onClickOutside={onToggle}>\n            <div className=\"dropdown-list\" onClick={e => e.stopPropagation()}>\n              <div className={cx('c-years-selector', isSelected ? 'selected' : 'selecting')}>\n                <div className=\"years-selector-content\">\n                  {years.map(year => (\n                    <div\n                      key={year}\n                      onClick={() => this.setActive(year)}\n                      onMouseOut={this.clearHovered}\n                      onMouseOver={() => this.setHovered(year)}\n                      className={cx('button', this.getClassName(year))}\n                    >\n                      <div className=\"unrotate\">\n                        <div className=\"fill\">\n                          <span>{year}</span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                {this.renderFooter()}\n              </div>\n            </div>\n          </FiltersDropdown>\n        </div>\n      </div>\n    );\n  }\n}\n\nYearsSelector.propTypes = {\n  id: PropTypes.string,\n  years: PropTypes.array,\n  onToggle: PropTypes.func,\n  onSelected: PropTypes.func,\n  className: PropTypes.string,\n  selectedYears: PropTypes.array,\n  currentDropdown: PropTypes.string,\n  dropdownClassName: PropTypes.string\n};\n\nexport default YearsSelector;\n"]}]}
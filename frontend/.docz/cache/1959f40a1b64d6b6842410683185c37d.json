{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx","mtime":1548840716958},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport RecolorBySelector from 'react-components/nav/filters-nav/recolor-by-selector/recolor-by-selector.container';\nimport YearsSelector from 'react-components/nav/filters-nav/years-selector/years-selector.container';\nimport DropdownSelector from 'react-components/nav/filters-nav/dropdown-selector/dropdown-selector.component';\nimport LocaleSelector from 'react-components/nav/locale-selector/locale-selector.container';\nimport NavLinksList from 'react-components/nav/nav-links.component';\nimport ContextSelector from 'react-components/shared/context-selector/context-selector.container';\nimport ToolSearch from 'react-components/tool/tool-search/tool-search.container';\nimport { NavLink } from 'redux-first-router-link';\nimport 'scripts/react-components/nav/filters-nav/filters-nav.scss';\nimport 'scripts/react-components/nav/filters-nav/burger.scss';\n\nvar FiltersNav =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(FiltersNav, _React$PureComponent);\n\n  function FiltersNav() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FiltersNav);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FiltersNav)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"FILTERS\", [ContextSelector, YearsSelector, DropdownSelector, RecolorBySelector]);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      menuOpen: false\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleMenu\", function () {\n      return _this.setState(function (state) {\n        return {\n          menuOpen: !state.menuOpen\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMenuButton\", function () {\n      var menuOpen = _this.state.menuOpen;\n      var content = menuOpen ? React.createElement(\"div\", {\n        className: \"c-burger open\"\n      }, React.createElement(\"span\", {\n        className: \"ingredient\"\n      }), React.createElement(\"span\", {\n        className: \"ingredient\"\n      }), React.createElement(\"span\", {\n        className: \"ingredient\"\n      })) : React.createElement(\"div\", {\n        className: \"filters-nav-item-logo\"\n      }, React.createElement(\"img\", {\n        src: \"/images/logos/logo-trase-small-beta.svg\",\n        alt: \"TRASE\"\n      }));\n      return React.createElement(\"button\", {\n        className: \"filters-nav-item -no-padding\",\n        onClick: _this.toggleMenu,\n        type: \"button\"\n      }, content);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMenuOpened\", function () {\n      var _this$props = _this.props,\n          links = _this$props.links,\n          filters = _this$props.filters;\n      var restOfLinks = links.slice(2);\n      var decoratedLinks = [{\n        name: 'Home',\n        page: {\n          type: 'home'\n        }\n      }].concat(_toConsumableArray(links));\n      var navLinks = filters.showToolLinks ? restOfLinks : decoratedLinks;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"filters-nav-left-section\"\n      }, filters.showToolLinks && _this.renderInToolLinks(), React.createElement(\"ul\", {\n        className: \"filters-nav-submenu-list\"\n      }, React.createElement(NavLinksList, {\n        links: navLinks,\n        itemClassName: \"filters-nav-item\",\n        linkClassName: \"filters-nav-link\",\n        linkActiveClassName: \"filters-nav-link -active\"\n      }))), React.createElement(\"div\", {\n        className: \"filters-nav-right-section\"\n      }, React.createElement(\"div\", {\n        className: \"filters-nav-item\"\n      }, React.createElement(LocaleSelector, null)), filters.showSearch && React.createElement(ToolSearch, {\n        className: \"filters-nav-item -no-padding\"\n      })));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMenuClosed\", function () {\n      return React.createElement(React.Fragment, null, _this.renderLeftSection(), _this.renderRightSection());\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderLeftSection\", function () {\n      var _this$props2 = _this.props,\n          toggleDropdown = _this$props2.toggleDropdown,\n          currentDropdown = _this$props2.currentDropdown,\n          _this$props2$filters$ = _this$props2.filters.left,\n          left = _this$props2$filters$ === void 0 ? [] : _this$props2$filters$;\n\n      var _assertThisInitialize = _assertThisInitialized(_assertThisInitialized(_this)),\n          FILTERS = _assertThisInitialize.FILTERS;\n\n      return React.createElement(\"div\", {\n        className: \"filters-nav-left-section\"\n      }, left.map(function (filter) {\n        return React.createElement(FILTERS[filter.type], _objectSpread({\n          currentDropdown: currentDropdown,\n          className: 'filters-nav-item',\n          onToggle: toggleDropdown,\n          onSelected: _this.props[\"\".concat(filter.props.id, \"_onSelected\")]\n        }, filter.props, {\n          key: filter.props.id\n        }));\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderRightSection\", function () {\n      var _this$props3 = _this.props,\n          toggleDropdown = _this$props3.toggleDropdown,\n          currentDropdown = _this$props3.currentDropdown,\n          openLogisticsMapDownload = _this$props3.openLogisticsMapDownload,\n          _this$props3$filters = _this$props3.filters,\n          _this$props3$filters$ = _this$props3$filters.right,\n          right = _this$props3$filters$ === void 0 ? [] : _this$props3$filters$,\n          showSearch = _this$props3$filters.showSearch,\n          showLogisticsMapDownload = _this$props3$filters.showLogisticsMapDownload;\n\n      var _assertThisInitialize2 = _assertThisInitialized(_assertThisInitialized(_this)),\n          FILTERS = _assertThisInitialize2.FILTERS;\n\n      return React.createElement(\"div\", {\n        className: \"filters-nav-left-section\"\n      }, right.map(function (filter) {\n        return React.createElement(FILTERS[filter.type], _objectSpread({\n          currentDropdown: currentDropdown,\n          className: 'filters-nav-item',\n          onToggle: toggleDropdown,\n          onSelected: _this.props[\"\".concat(filter.props.id, \"_onSelected\")]\n        }, filter.props, {\n          key: filter.props.id\n        }));\n      }), showSearch && React.createElement(ToolSearch, {\n        className: \"filters-nav-item -no-padding\"\n      }), showLogisticsMapDownload && React.createElement(\"button\", {\n        onClick: openLogisticsMapDownload,\n        className: \"filters-nav-item -no-padding -icon\"\n      }, React.createElement(\"svg\", {\n        className: \"icon icon-download\"\n      }, React.createElement(\"use\", {\n        xlinkHref: \"#icon-download\"\n      }))));\n    });\n\n    return _this;\n  }\n\n  _createClass(FiltersNav, [{\n    key: \"renderInToolLinks\",\n    value: function renderInToolLinks() {\n      var _this$props4 = this.props,\n          links = _this$props4.links,\n          openMap = _this$props4.openMap,\n          openSankey = _this$props4.openSankey,\n          isMapVisible = _this$props4.isMapVisible;\n\n      var _links = _slicedToArray(links, 2),\n          supplyChainLink = _links[0],\n          mapLink = _links[1];\n\n      return React.createElement(\"ul\", {\n        className: \"filters-nav-submenu-list\"\n      }, React.createElement(\"li\", {\n        className: \"filters-nav-item\"\n      }, React.createElement(NavLink, {\n        exact: true,\n        strict: true,\n        className: \"filters-nav-link\",\n        to: {\n          type: 'home'\n        }\n      }, \"home\")), React.createElement(\"li\", {\n        className: \"filters-nav-item\"\n      }, React.createElement(\"span\", {\n        className: cx('filters-nav-link', {\n          '-active': !isMapVisible\n        }),\n        onClick: openSankey\n      }, supplyChainLink.name)), React.createElement(\"li\", {\n        className: \"filters-nav-item\"\n      }, React.createElement(\"span\", {\n        className: cx('filters-nav-link', {\n          '-active': isMapVisible\n        }),\n        onClick: openMap\n      }, mapLink.name)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var menuOpen = this.state.menuOpen;\n      return React.createElement(\"div\", {\n        className: \"c-filters-nav\"\n      }, this.renderMenuButton(), React.createElement(\"div\", {\n        className: \"filters-nav-section-container\"\n      }, menuOpen ? this.renderMenuOpened() : this.renderMenuClosed()));\n    }\n  }]);\n\n  return FiltersNav;\n}(React.PureComponent);\n\n_defineProperty(FiltersNav, \"propTypes\", {\n  openMap: PropTypes.func,\n  openSankey: PropTypes.func,\n  isMapVisible: PropTypes.bool,\n  toggleDropdown: PropTypes.func,\n  currentDropdown: PropTypes.string,\n  links: PropTypes.array.isRequired,\n  filters: PropTypes.object.isRequired,\n  openLogisticsMapDownload: PropTypes.func\n});\n\n_defineProperty(FiltersNav, \"FILTER_TYPES\", {\n  contextSelector: 0,\n  yearSelector: 1,\n  dropdownSelector: 2,\n  recolorBySelector: 3\n});\n\nvar _default = FiltersNav;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_slicedToArray, \"_slicedToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_nonIterableRest, \"_nonIterableRest\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_iterableToArrayLimit, \"_iterableToArrayLimit\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_arrayWithHoles, \"_arrayWithHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_objectSpread, \"_objectSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_toConsumableArray, \"_toConsumableArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_nonIterableSpread, \"_nonIterableSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_iterableToArray, \"_iterableToArray\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_arrayWithoutHoles, \"_arrayWithoutHoles\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(FiltersNav, \"FiltersNav\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/nav/filters-nav/filters-nav.component.jsx"],"names":["FiltersNav","React","PureComponent","openMap","PropTypes","openSankey","isMapVisible","toggleDropdown","currentDropdown","links","filters","openLogisticsMapDownload","func","contextSelector","yearSelector","dropdownSelector","recolorBySelector","menuOpen","state","content","supplyChainLink","mapLink","type","cx","restOfLinks","decoratedLinks","name","page","navLinks","left","FILTERS","filter","className","onToggle","onSelected","key","id","right","showSearch","showLogisticsMapDownload"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport RecolorBySelector from 'react-components/nav/filters-nav/recolor-by-selector/recolor-by-selector.container';\nimport YearsSelector from 'react-components/nav/filters-nav/years-selector/years-selector.container';\nimport DropdownSelector from 'react-components/nav/filters-nav/dropdown-selector/dropdown-selector.component';\nimport LocaleSelector from 'react-components/nav/locale-selector/locale-selector.container';\nimport NavLinksList from 'react-components/nav/nav-links.component';\nimport ContextSelector from 'react-components/shared/context-selector/context-selector.container';\nimport ToolSearch from 'react-components/tool/tool-search/tool-search.container';\nimport { NavLink } from 'redux-first-router-link';\n\nimport 'scripts/react-components/nav/filters-nav/filters-nav.scss';\nimport 'scripts/react-components/nav/filters-nav/burger.scss';\n\nclass FiltersNav extends React.PureComponent {\n  static propTypes = {\n    openMap: PropTypes.func,\n    openSankey: PropTypes.func,\n    isMapVisible: PropTypes.bool,\n    toggleDropdown: PropTypes.func,\n    currentDropdown: PropTypes.string,\n    links: PropTypes.array.isRequired,\n    filters: PropTypes.object.isRequired,\n    openLogisticsMapDownload: PropTypes.func\n  };\n\n  static FILTER_TYPES = {\n    contextSelector: 0,\n    yearSelector: 1,\n    dropdownSelector: 2,\n    recolorBySelector: 3\n  };\n\n  FILTERS = [ContextSelector, YearsSelector, DropdownSelector, RecolorBySelector];\n\n  state = {\n    menuOpen: false\n  };\n\n  toggleMenu = () => this.setState(state => ({ menuOpen: !state.menuOpen }));\n\n  renderMenuButton = () => {\n    const { menuOpen } = this.state;\n    const content = menuOpen ? (\n      <div className=\"c-burger open\">\n        <span className=\"ingredient\" />\n        <span className=\"ingredient\" />\n        <span className=\"ingredient\" />\n      </div>\n    ) : (\n      <div className=\"filters-nav-item-logo\">\n        <img src=\"/images/logos/logo-trase-small-beta.svg\" alt=\"TRASE\" />\n      </div>\n    );\n    return (\n      <button className=\"filters-nav-item -no-padding\" onClick={this.toggleMenu} type=\"button\">\n        {content}\n      </button>\n    );\n  };\n\n  renderInToolLinks() {\n    const { links, openMap, openSankey, isMapVisible } = this.props;\n    const [supplyChainLink, mapLink] = links;\n    return (\n      <ul className=\"filters-nav-submenu-list\">\n        <li className=\"filters-nav-item\">\n          <NavLink exact strict className=\"filters-nav-link\" to={{ type: 'home' }}>\n            home\n          </NavLink>\n        </li>\n        <li className=\"filters-nav-item\">\n          <span\n            className={cx('filters-nav-link', {\n              '-active': !isMapVisible\n            })}\n            onClick={openSankey}\n          >\n            {supplyChainLink.name}\n          </span>\n        </li>\n        <li className=\"filters-nav-item\">\n          <span\n            className={cx('filters-nav-link', {\n              '-active': isMapVisible\n            })}\n            onClick={openMap}\n          >\n            {mapLink.name}\n          </span>\n        </li>\n      </ul>\n    );\n  }\n\n  renderMenuOpened = () => {\n    const { links, filters } = this.props;\n    const restOfLinks = links.slice(2);\n    const decoratedLinks = [{ name: 'Home', page: { type: 'home' } }, ...links];\n    const navLinks = filters.showToolLinks ? restOfLinks : decoratedLinks;\n\n    return (\n      <React.Fragment>\n        <div className=\"filters-nav-left-section\">\n          {filters.showToolLinks && this.renderInToolLinks()}\n          <ul className=\"filters-nav-submenu-list\">\n            <NavLinksList\n              links={navLinks}\n              itemClassName=\"filters-nav-item\"\n              linkClassName=\"filters-nav-link\"\n              linkActiveClassName=\"filters-nav-link -active\"\n            />\n          </ul>\n        </div>\n        <div className=\"filters-nav-right-section\">\n          <div className=\"filters-nav-item\">\n            <LocaleSelector />\n          </div>\n          {filters.showSearch && <ToolSearch className=\"filters-nav-item -no-padding\" />}\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  renderMenuClosed = () => (\n    <React.Fragment>\n      {this.renderLeftSection()}\n      {this.renderRightSection()}\n    </React.Fragment>\n  );\n\n  renderLeftSection = () => {\n    const {\n      toggleDropdown,\n      currentDropdown,\n      filters: { left = [] }\n    } = this.props;\n    const { FILTERS } = this;\n\n    return (\n      <div className=\"filters-nav-left-section\">\n        {left.map(filter =>\n          React.createElement(FILTERS[filter.type], {\n            currentDropdown,\n            className: 'filters-nav-item',\n            onToggle: toggleDropdown,\n            onSelected: this.props[`${filter.props.id}_onSelected`],\n            ...filter.props,\n            key: filter.props.id\n          })\n        )}\n      </div>\n    );\n  };\n\n  renderRightSection = () => {\n    const {\n      toggleDropdown,\n      currentDropdown,\n      openLogisticsMapDownload,\n      filters: { right = [], showSearch, showLogisticsMapDownload }\n    } = this.props;\n    const { FILTERS } = this;\n\n    return (\n      <div className=\"filters-nav-left-section\">\n        {right.map(filter =>\n          React.createElement(FILTERS[filter.type], {\n            currentDropdown,\n            className: 'filters-nav-item',\n            onToggle: toggleDropdown,\n            onSelected: this.props[`${filter.props.id}_onSelected`],\n            ...filter.props,\n            key: filter.props.id\n          })\n        )}\n        {showSearch && <ToolSearch className=\"filters-nav-item -no-padding\" />}\n        {showLogisticsMapDownload && (\n          <button onClick={openLogisticsMapDownload} className=\"filters-nav-item -no-padding -icon\">\n            <svg className=\"icon icon-download\">\n              <use xlinkHref=\"#icon-download\" />\n            </svg>\n          </button>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { menuOpen } = this.state;\n    return (\n      <div className=\"c-filters-nav\">\n        {this.renderMenuButton()}\n        <div className=\"filters-nav-section-container\">\n          {menuOpen ? this.renderMenuOpened() : this.renderMenuClosed()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FiltersNav;\n"]}]}
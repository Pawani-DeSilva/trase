{"remainingRequest":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\",[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":true,\"typescript\":false,\"parseProps\":true}]],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],[\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/react-hot-loader/babel.js\"],\"env\":{\"production\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"transform-react-remove-prop-types\",\"lodash\"]},\"test\":{\"presets\":[[\"@babel/env\",{\"useBuiltIns\":\"entry\"}],\"@babel/preset-react\"],\"plugins\":[\"@babel/plugin-syntax-dynamic-import\",\"@babel/plugin-syntax-object-rest-spread\",\"@babel/plugin-transform-exponentiation-operator\",[\"@babel/plugin-proposal-class-properties\",{\"spec\":true}],\"@babel/plugin-transform-modules-commonjs\",[\"module-resolver\",{\"alias\":{\"scripts\":\"./scripts\",\"actions\":\"./scripts/actions\",\"utils\":\"./scripts/utils\",\"reducers\":\"./scripts/reducers\",\"store\":\"./scripts/store\",\"components\":\"./scripts/components\",\"containers\":\"./scripts/containers\",\"constants\":\"./scripts/constants\",\"router\":\"./scripts/router\",\"react-components\":\"./scripts/react-components\",\"named-maps\":\"./scripts/named-maps\"}}]]}},\"babelrc\":false,\"cacheCompression\":false,\"compact\":false}!/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx","dependencies":[{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx","mtime":1548857662384},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/.babelrc","mtime":1548840716937},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n\nimport React, { Component } from 'react';\nimport cx from 'classnames';\nimport Link from 'redux-first-router-link';\nimport PropTypes from 'prop-types';\nimport formatValue from 'utils/formatValue';\nimport { UNITLESS_UNITS } from 'constants';\nimport Tooltip from 'react-components/shared/help-tooltip/help-tooltip.component';\nimport 'react-components/profiles/table/area-table.scss';\n\nvar Table =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Table, _Component);\n\n  function Table() {\n    _classCallCheck(this, Table);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Table).apply(this, arguments));\n  }\n\n  _createClass(Table, [{\n    key: \"renderPlacesTableHeader\",\n    value: function renderPlacesTableHeader() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          testId = _this$props.testId;\n      return React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"table-row\"\n      }, React.createElement(\"th\", {\n        className: \"header-cell\"\n      }, React.createElement(\"span\", {\n        className: \"only-for-print\"\n      }, data.name)), data.rows.map(function (elem, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          className: \"header-cell _text-align-right\",\n          \"data-test\": \"\".concat(testId, \"-header-name\")\n        }, elem.name);\n      })));\n    }\n  }, {\n    key: \"renderPlacesTable\",\n    value: function renderPlacesTable() {\n      var _this$props2 = this.props,\n          data = _this$props2.data,\n          testId = _this$props2.testId;\n      var columns = data.included_columns;\n      return React.createElement(\"tbody\", null, data.rows[0].values.map(function (value, valueKey) {\n        return React.createElement(\"tr\", {\n          key: valueKey,\n          className: \"table-row\",\n          \"data-test\": \"\".concat(testId, \"-row\")\n        }, React.createElement(\"td\", {\n          className: \"cell-name\"\n        }, React.createElement(\"span\", {\n          className: \"node-name\"\n        }, columns[valueKey].name, columns[valueKey].year), columns[valueKey].tooltip && React.createElement(Tooltip, {\n          text: columns[valueKey].tooltip\n        })), data.rows.map(function (row, rowKey) {\n          return React.createElement(\"td\", {\n            key: rowKey,\n            className: \"cell-score _text-align-right\"\n          }, React.createElement(\"span\", {\n            className: \"unit\",\n            \"data-unit\": row.have_unit && !UNITLESS_UNITS.includes(columns[valueKey].unit) ? columns[valueKey].unit : null\n          }, formatValue(row.values[valueKey], columns[valueKey].name)));\n        }));\n      }));\n    }\n  }, {\n    key: \"renderActorsTableHeader\",\n    value: function renderActorsTableHeader() {\n      var _this$props3 = this.props,\n          testId = _this$props3.testId,\n          data = _this$props3.data;\n      return React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"table-row\"\n      }, data.included_columns.map(function (column, columnIndex) {\n        return React.createElement(\"th\", {\n          key: columnIndex,\n          className: \"header-cell\"\n        }, React.createElement(\"div\", {\n          className: cx({\n            'align-content-right': columnIndex > 0\n          })\n        }, React.createElement(\"span\", {\n          className: \"header-name\",\n          \"data-test\": \"\".concat(testId, \"-header-name\")\n        }, column.name), column.tooltip && React.createElement(Tooltip, {\n          text: column.tooltip\n        })));\n      })));\n    }\n  }, {\n    key: \"renderActorsTable\",\n    value: function renderActorsTable() {\n      var _this$props4 = this.props,\n          data = _this$props4.data,\n          target = _this$props4.target,\n          year = _this$props4.year,\n          targetPayload = _this$props4.targetPayload,\n          contextId = _this$props4.contextId,\n          testId = _this$props4.testId;\n\n      var linkTo = function linkTo(id) {\n        return {\n          type: target,\n          payload: _objectSpread({}, targetPayload || {}, {\n            query: {\n              year: year,\n              contextId: contextId,\n              nodeId: id\n            }\n          })\n        };\n      };\n\n      return React.createElement(\"tbody\", null, data.rows.map(function (row, rowIndex) {\n        return React.createElement(\"tr\", {\n          key: rowIndex,\n          className: \"table-row\",\n          \"data-test\": \"\".concat(testId, \"-row\")\n        }, row.is_total === true && React.createElement(\"td\", {\n          className: \"cell-score\"\n        }, React.createElement(\"span\", {\n          className: \"node-name\"\n        }, \"Total\")), row.values.map(function (value, valueIndex) {\n          return React.createElement(\"td\", {\n            key: valueIndex,\n            className: cx({\n              'cell-score': valueIndex > 0,\n              'cell-name': valueIndex === 0,\n              '_text-align-right': valueIndex > 0 || row.is_total === true\n            })\n          }, value === null && React.createElement(\"span\", {\n            className: \"unit\"\n          }, \"N/A\"), value !== null && React.createElement(\"span\", {\n            className: \"\".concat(valueIndex > 0 ? 'unit' : 'node-name'),\n            \"data-unit\": rowIndex === 0 ? data.included_columns[valueIndex].unit : null\n          }, formatValue(value.value, data.included_columns[valueIndex].name)), value !== null && target !== null && typeof value.value !== 'number' && value.id !== undefined && React.createElement(Link, {\n            className: \"node-link\",\n            to: linkTo(value.id)\n          }, React.createElement(\"svg\", {\n            className: \"icon icon-check\"\n          }, React.createElement(\"use\", {\n            xlinkHref: \"#icon-outside-link\"\n          }))));\n        }));\n      }));\n    }\n  }, {\n    key: \"renderOtherTable\",\n    value: function renderOtherTable() {\n      var _this$props5 = this.props,\n          data = _this$props5.data,\n          target = _this$props5.target,\n          targetPayload = _this$props5.targetPayload,\n          year = _this$props5.year,\n          contextId = _this$props5.contextId;\n\n      var linkTo = function linkTo(id) {\n        return {\n          type: target,\n          payload: _objectSpread({}, targetPayload || {}, {\n            query: {\n              year: year,\n              contextId: contextId,\n              nodeId: id\n            }\n          })\n        };\n      };\n\n      return React.createElement(\"tbody\", null, data.map(function (elem, dataIndex) {\n        return React.createElement(\"tr\", {\n          key: dataIndex,\n          className: \"table-row\"\n        }, React.createElement(\"td\", {\n          className: \"cell-name\"\n        }, React.createElement(\"span\", {\n          className: \"node-name\"\n        }, dataIndex + 1, \".\", elem.name), target !== null && React.createElement(Link, {\n          className: \"node-link\",\n          to: linkTo(elem.id)\n        }, React.createElement(\"svg\", {\n          className: \"icon icon-check\"\n        }, React.createElement(\"use\", {\n          xlinkHref: \"#icon-outside-link\"\n        })))), React.createElement(\"td\", {\n          className: \"cell-score _text-align-right\"\n        }, React.createElement(\"span\", {\n          className: \"unit\",\n          \"data-unit\": dataIndex === 0 && '%'\n        }, elem.value)));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var type = this.props.type;\n      return React.createElement(\"table\", null, type === 't_head_places' && this.renderPlacesTableHeader(), type === 't_head_places' && this.renderPlacesTable(), type === 't_head_actors' && this.renderActorsTableHeader(), type === 't_head_actors' && this.renderActorsTable(), type !== 't_head_actors' && type !== 't_head_places' && this.renderOtherTable());\n    }\n  }]);\n\n  return Table;\n}(Component);\n\nTable.propTypes = {\n  data: PropTypes.object,\n  type: PropTypes.string,\n  target: PropTypes.string,\n  testId: PropTypes.string,\n  year: PropTypes.number,\n  targetPayload: PropTypes.object,\n  contextId: PropTypes.number.isRequired\n};\nvar _default = Table;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_typeof, \"_typeof\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_objectSpread, \"_objectSpread\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_defineProperty, \"_defineProperty\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_classCallCheck, \"_classCallCheck\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_defineProperties, \"_defineProperties\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_createClass, \"_createClass\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_possibleConstructorReturn, \"_possibleConstructorReturn\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_assertThisInitialized, \"_assertThisInitialized\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_getPrototypeOf, \"_getPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_inherits, \"_inherits\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_setPrototypeOf, \"_setPrototypeOf\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(Table, \"Table\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/rodrigo/WorkWorkWorkWorkWork/trase/frontend/scripts/react-components/profiles/table/table.component.jsx"],"names":["Table","Component","data","testId","elem","columns","tooltip","row","UNITLESS_UNITS","formatValue","cx","columnIndex","column","target","year","targetPayload","contextId","linkTo","type","payload","query","nodeId","id","valueIndex","value","rowIndex","dataIndex","PropTypes","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from 'react';\nimport cx from 'classnames';\nimport Link from 'redux-first-router-link';\nimport PropTypes from 'prop-types';\n\nimport formatValue from 'utils/formatValue';\nimport { UNITLESS_UNITS } from 'constants';\nimport Tooltip from 'react-components/shared/help-tooltip/help-tooltip.component';\n\nimport 'react-components/profiles/table/area-table.scss';\n\nclass Table extends Component {\n  renderPlacesTableHeader() {\n    const { data, testId } = this.props;\n\n    return (\n      <thead>\n        <tr className=\"table-row\">\n          <th className=\"header-cell\">\n            <span className=\"only-for-print\">{data.name}</span>\n          </th>\n          {data.rows.map((elem, index) => (\n            <th\n              key={index}\n              className=\"header-cell _text-align-right\"\n              data-test={`${testId}-header-name`}\n            >\n              {elem.name}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n\n  renderPlacesTable() {\n    const { data, testId } = this.props;\n    const columns = data.included_columns;\n\n    return (\n      <tbody>\n        {data.rows[0].values.map((value, valueKey) => (\n          <tr key={valueKey} className=\"table-row\" data-test={`${testId}-row`}>\n            <td className=\"cell-name\">\n              <span className=\"node-name\">\n                {columns[valueKey].name}\n                {columns[valueKey].year}\n              </span>\n              {columns[valueKey].tooltip && <Tooltip text={columns[valueKey].tooltip} />}\n            </td>\n            {data.rows.map((row, rowKey) => (\n              <td key={rowKey} className=\"cell-score _text-align-right\">\n                <span\n                  className=\"unit\"\n                  data-unit={\n                    row.have_unit && !UNITLESS_UNITS.includes(columns[valueKey].unit)\n                      ? columns[valueKey].unit\n                      : null\n                  }\n                >\n                  {formatValue(row.values[valueKey], columns[valueKey].name)}\n                </span>\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n\n  renderActorsTableHeader() {\n    const { testId, data } = this.props;\n\n    return (\n      <thead>\n        <tr className=\"table-row\">\n          {data.included_columns.map((column, columnIndex) => (\n            <th key={columnIndex} className=\"header-cell\">\n              <div className={cx({ 'align-content-right': columnIndex > 0 })}>\n                <span className=\"header-name\" data-test={`${testId}-header-name`}>\n                  {column.name}\n                </span>\n                {column.tooltip && <Tooltip text={column.tooltip} />}\n              </div>\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n\n  renderActorsTable() {\n    const { data, target, year, targetPayload, contextId, testId } = this.props;\n\n    const linkTo = id => ({\n      type: target,\n      payload: {\n        ...(targetPayload || {}),\n        query: { year, contextId, nodeId: id }\n      }\n    });\n\n    return (\n      <tbody>\n        {data.rows.map((row, rowIndex) => (\n          <tr key={rowIndex} className=\"table-row\" data-test={`${testId}-row`}>\n            {row.is_total === true && (\n              <td className=\"cell-score\">\n                <span className=\"node-name\">Total</span>\n              </td>\n            )}\n            {row.values.map((value, valueIndex) => (\n              <td\n                key={valueIndex}\n                className={cx({\n                  'cell-score': valueIndex > 0,\n                  'cell-name': valueIndex === 0,\n                  '_text-align-right': valueIndex > 0 || row.is_total === true\n                })}\n              >\n                {value === null && <span className=\"unit\">N/A</span>}\n                {value !== null && (\n                  <span\n                    className={`${valueIndex > 0 ? 'unit' : 'node-name'}`}\n                    data-unit={rowIndex === 0 ? data.included_columns[valueIndex].unit : null}\n                  >\n                    {formatValue(value.value, data.included_columns[valueIndex].name)}\n                  </span>\n                )}\n                {value !== null &&\n                  target !== null &&\n                  typeof value.value !== 'number' &&\n                  value.id !== undefined && (\n                    <Link className=\"node-link\" to={linkTo(value.id)}>\n                      <svg className=\"icon icon-check\">\n                        <use xlinkHref=\"#icon-outside-link\" />\n                      </svg>\n                    </Link>\n                  )}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n\n  renderOtherTable() {\n    const { data, target, targetPayload, year, contextId } = this.props;\n    const linkTo = id => ({\n      type: target,\n      payload: {\n        ...(targetPayload || {}),\n        query: { year, contextId, nodeId: id }\n      }\n    });\n    return (\n      <tbody>\n        {data.map((elem, dataIndex) => (\n          <tr key={dataIndex} className=\"table-row\">\n            <td className=\"cell-name\">\n              <span className=\"node-name\">\n                {dataIndex + 1}.{elem.name}\n              </span>\n              {target !== null && (\n                <Link className=\"node-link\" to={linkTo(elem.id)}>\n                  <svg className=\"icon icon-check\">\n                    <use xlinkHref=\"#icon-outside-link\" />\n                  </svg>\n                </Link>\n              )}\n            </td>\n            <td className=\"cell-score _text-align-right\">\n              <span className=\"unit\" data-unit={dataIndex === 0 && '%'}>\n                {elem.value}\n              </span>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n\n  render() {\n    const { type } = this.props;\n\n    return (\n      <table>\n        {type === 't_head_places' && this.renderPlacesTableHeader()}\n        {type === 't_head_places' && this.renderPlacesTable()}\n        {type === 't_head_actors' && this.renderActorsTableHeader()}\n        {type === 't_head_actors' && this.renderActorsTable()}\n        {type !== 't_head_actors' && type !== 't_head_places' && this.renderOtherTable()}\n      </table>\n    );\n  }\n}\n\nTable.propTypes = {\n  data: PropTypes.object,\n  type: PropTypes.string,\n  target: PropTypes.string,\n  testId: PropTypes.string,\n  year: PropTypes.number,\n  targetPayload: PropTypes.object,\n  contextId: PropTypes.number.isRequired\n};\n\nexport default Table;\n"]}]}